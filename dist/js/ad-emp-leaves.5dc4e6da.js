(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ad-emp-leaves"],{cfdf:function(e,t,l){"use strict";l.r(t);var a=l("7a23"),c={class:"row"},o=Object(a["createElementVNode"])("div",{class:"col-12"},[Object(a["createElementVNode"])("div",{class:"alert alert-primary"},[Object(a["createElementVNode"])("b",null,"Employee Leave Requests")])],-1),n={class:"col-12"},r={class:"card"},s=Object(a["createElementVNode"])("div",{class:"card-header"},[Object(a["createElementVNode"])("h3",{class:"card-title"},"Leave Subs")],-1),d={class:"card-body p-0"},m={class:"table table-sm table-striped text-center"},i=Object(a["createElementVNode"])("thead",null,[Object(a["createElementVNode"])("tr",null,[Object(a["createElementVNode"])("th",{class:"text-left"},"ID"),Object(a["createElementVNode"])("th",null,"First name"),Object(a["createElementVNode"])("th",null,"Last name"),Object(a["createElementVNode"])("th",null,"Type"),Object(a["createElementVNode"])("th",null,"Pay"),Object(a["createElementVNode"])("th",null,"From"),Object(a["createElementVNode"])("th",null,"To"),Object(a["createElementVNode"])("th",null,"Recommending Approval"),Object(a["createElementVNode"])("th",null,"Final Approval"),Object(a["createElementVNode"])("th",null,"Created At"),Object(a["createElementVNode"])("th",null,"Actions")])],-1),b={key:0},u=Object(a["createElementVNode"])("tr",null,[Object(a["createElementVNode"])("td",{colspan:"11"},[Object(a["createElementVNode"])("i",{class:"fas fa fa-pulse fa-spinner fa-2x"})])],-1),p=[u],j={key:1},O={class:"text-left"},v={key:0,class:"text-warning fas fa fa-exclamation"},f={key:1,class:"text-success fas fa fa-check"},E={key:2,class:"text-danger fas fa fa-times"},V={key:0,class:"text-warning fas fa fa-exclamation"},N={key:1,class:"text-success fas fa fa-check"},y={key:2,class:"text-danger fas fa fa-times"},g=["onClick"],k=Object(a["createElementVNode"])("i",{class:"fas fa fa-search"},null,-1),h=[k],_={class:"modal fade show",id:"modal-lg","aria-modal":"true",role:"dialog"},L={class:"modal-dialog modal-lg modal-dialog-centered"},x={class:"modal-content"},w={key:0,class:"overlay"},B=Object(a["createElementVNode"])("i",{class:"fas fa-2x fa-spinner fa-spin"},null,-1),R=[B],D={class:"modal-header"},T={class:"modal-title"},q=Object(a["createElementVNode"])("button",{id:"modal-close",type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[Object(a["createElementVNode"])("span",{"aria-hidden":"true"},"Ã—")],-1),C={class:"modal-body"},A={class:"row"},S={class:"form-group col-md-6"},M=Object(a["createElementVNode"])("label",null,"Type",-1),F={class:"form-group col-md-6"},U=Object(a["createElementVNode"])("label",null,"Pay",-1),P={class:"form-group col-md-6"},J=Object(a["createElementVNode"])("label",null,"From",-1),I={class:"form-group col-md-6"},z=Object(a["createElementVNode"])("label",null,"To",-1),G={key:0,class:"form-group col-6"},H=Object(a["createElementVNode"])("label",null,"Time From",-1),K={key:1,class:"form-group col-6"},Q=Object(a["createElementVNode"])("label",null,"Time To",-1),W={class:"form-group col-12"},X=Object(a["createElementVNode"])("label",null,"Reason",-1),Y={class:"modal-footer"},Z=["disabled"],$=["disabled"];function ee(e,t,l,u,k,B){return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createElementVNode"])("div",c,[o,Object(a["createElementVNode"])("div",n,[Object(a["createElementVNode"])("div",r,[s,Object(a["createElementVNode"])("div",d,[Object(a["createElementVNode"])("table",m,[i,e.leave.isRequestLoading?(Object(a["openBlock"])(),Object(a["createElementBlock"])("tbody",b,p)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("tbody",j,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.leaves,(function(t,l){return Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",{key:t.id},[Object(a["createElementVNode"])("td",O,Object(a["toDisplayString"])(t.id),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(t.employee.first_name),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(t.employee.last_name),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(t.type),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(t.pay_type),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(t.from),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(t.to),1),Object(a["createElementVNode"])("td",null,["Pending"==t.recommending_approval?(Object(a["openBlock"])(),Object(a["createElementBlock"])("i",v)):Object(a["createCommentVNode"])("",!0),"Approved"==t.recommending_approval?(Object(a["openBlock"])(),Object(a["createElementBlock"])("i",f)):Object(a["createCommentVNode"])("",!0),"Disapproved"==t.recommending_approval?(Object(a["openBlock"])(),Object(a["createElementBlock"])("i",E)):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("td",null,["Pending"==t.final_approval?(Object(a["openBlock"])(),Object(a["createElementBlock"])("i",V)):Object(a["createCommentVNode"])("",!0),"Approved"==t.final_approval?(Object(a["openBlock"])(),Object(a["createElementBlock"])("i",N)):Object(a["createCommentVNode"])("",!0),"Disapproved"==t.final_approval?(Object(a["openBlock"])(),Object(a["createElementBlock"])("i",y)):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(t.created_at),1),Object(a["createElementVNode"])("td",null,[Object(a["createElementVNode"])("button",{"data-toggle":"modal","data-target":"#modal-lg",onClick:function(a){return e.selectThisRequest(t,l)},class:"btn btn-sm btn-primary"},h,8,g)])])})),128))]))])])])])]),Object(a["createElementVNode"])("div",_,[Object(a["createElementVNode"])("div",L,[Object(a["createElementVNode"])("div",x,[e.leave.isRequestLoading?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",w,R)):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",D,[Object(a["createElementVNode"])("h4",T,"Leave of "+Object(a["toDisplayString"])(e.selectedLeave.first_name)+" "+Object(a["toDisplayString"])(e.selectedLeave.last_name),1),q]),Object(a["createElementVNode"])("div",C,[Object(a["createElementVNode"])("div",A,[Object(a["createElementVNode"])("div",S,[M,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.selectedLeave.type=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[a["vModelText"],e.selectedLeave.type]])]),Object(a["createElementVNode"])("div",F,[U,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.selectedLeave.pay_type=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[a["vModelText"],e.selectedLeave.pay_type]])]),Object(a["createElementVNode"])("div",P,[J,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.selectedLeave.from=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[a["vModelText"],e.selectedLeave.from]])]),Object(a["createElementVNode"])("div",I,[z,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.selectedLeave.to=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[a["vModelText"],e.selectedLeave.to]])]),e.selectedLeave.time_from?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",G,[H,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.selectedLeave.time_from=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[a["vModelText"],e.selectedLeave.time_from]])])):Object(a["createCommentVNode"])("",!0),e.selectedLeave.time_to?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",K,[Q,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.selectedLeave.time_to=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[a["vModelText"],e.selectedLeave.time_to]])])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",W,[X,Object(a["withDirectives"])(Object(a["createElementVNode"])("textarea",{"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.selectedLeave.reason=t}),disabled:"",cols:"30",rows:"10",class:"form-control form-control-sm"},null,512),[[a["vModelText"],e.selectedLeave.reason]])])])]),Object(a["createElementVNode"])("div",Y,[Object(a["createElementVNode"])("button",{onClick:t[7]||(t[7]=function(t){return e.approveThisRequest(e.selectedLeave.id)}),disabled:"Approved"==e.selectedLeave.final_approval,class:"btn btn-success btn-block"},"Approve",8,Z),Object(a["createElementVNode"])("button",{onClick:t[8]||(t[8]=function(t){return e.disapproveThisRequest(e.selectedLeave.id)}),disabled:"Disapproved"==e.selectedLeave.final_approval,class:"btn btn-danger btn-block"},"Disapprove",8,$)])])])])],64)}var te=l("1da1"),le=(l("96cf"),l("5a15")),ae=l("be92"),ce=Object(ae["b"])({id:"admin_employee_leave",state:function(){return{leaves:[],isRequestLoading:!1}},getters:{getAllLeaveRequest:function(){return this.leaves}},actions:{loadAllEmployeeLeaveRequest:function(){var e=this;return Object(te["a"])(regeneratorRuntime.mark((function t(){var l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=e.leaves.length){t.next=7;break}return e.isRequestLoading=!0,t.next=4,le["a"].get("/api/admin/leaves/getEmployee");case 4:l=t.sent,e.leaves=l.data.data,e.isRequestLoading=!1;case 7:case"end":return t.stop()}}),t)})))()}}}),oe=Object(a["defineComponent"])({setup:function(){var e=ce(),t=Object(a["computed"])((function(){return e.getAllLeaveRequest})),l=Object(a["ref"])(0),c=Object(a["ref"])({id:0,first_name:"",last_name:"",type:"",pay_type:"",from:"",to:"",time_from:"",time_to:"",reason:"",recommending_approval:"",final_approval:""}),o=function(e,t){c.value.id=e.id,c.value.first_name=e.employee.first_name,c.value.last_name=e.employee.last_name,c.value.type=e.type,c.value.pay_type=e.pay_type,c.value.from=e.from,c.value.to=e.to,c.value.time_from=e.time_from,c.value.time_to=e.time_to,c.value.reason=e.reason,c.value.recommending_approval=e.recommending_approval,c.value.final_approval=e.final_approval,l.value=t},n=function(){var e=Object(te["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r=function(){var e=Object(te["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a["onMounted"])(Object(te["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadAllEmployeeLeaveRequest();case 2:case"end":return t.stop()}}),t)})))),{leave:e,leaves:t,selectedLeave:c,selectThisRequest:o,approveThisRequest:n,disapproveThisRequest:r}}}),ne=l("6b0d"),re=l.n(ne);const se=re()(oe,[["render",ee]]);t["default"]=se}}]);
//# sourceMappingURL=ad-emp-leaves.5dc4e6da.js.map