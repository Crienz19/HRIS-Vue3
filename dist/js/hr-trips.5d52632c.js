(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["hr-trips"],{"0b42":function(e,t,n){var r=n("e8b5"),c=n("68ee"),l=n("861d"),a=n("b622"),o=a("species");e.exports=function(e){var t;return r(e)&&(t=e.constructor,c(t)&&(t===Array||r(t.prototype))?t=void 0:l(t)&&(t=t[o],null===t&&(t=void 0))),void 0===t?Array:t}},"107c":function(e,t,n){var r=n("d039"),c=n("da84"),l=c.RegExp;e.exports=r((function(){var e=l("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},"14c3":function(e,t,n){var r=n("825a"),c=n("1626"),l=n("c6b6"),a=n("9263");e.exports=function(e,t){var n=e.exec;if(c(n)){var o=n.call(e,t);return null!==o&&r(o),o}if("RegExp"===l(e))return a.call(e,t);throw TypeError("RegExp#exec called on incompatible receiver")}},"1dde":function(e,t,n){var r=n("d039"),c=n("b622"),l=n("2d00"),a=c("species");e.exports=function(e){return l>=51||!r((function(){var t=[],n=t.constructor={};return n[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"466d":function(e,t,n){"use strict";var r=n("d784"),c=n("825a"),l=n("50c4"),a=n("577e"),o=n("1d80"),i=n("dc4a"),s=n("8aa5"),d=n("14c3");r("match",(function(e,t,n){return[function(t){var n=o(this),r=void 0==t?void 0:i(t,e);return r?r.call(t,n):new RegExp(t)[e](a(n))},function(e){var r=c(this),o=a(e),i=n(t,r,o);if(i.done)return i.value;if(!r.global)return d(r,o);var u=r.unicode;r.lastIndex=0;var m,p=[],b=0;while(null!==(m=d(r,o))){var f=a(m[0]);p[b]=f,""===f&&(r.lastIndex=s(o,l(r.lastIndex),u)),b++}return 0===b?null:p}]}))},"4de4":function(e,t,n){"use strict";var r=n("23e7"),c=n("b727").filter,l=n("1dde"),a=l("filter");r({target:"Array",proto:!0,forced:!a},{filter:function(e){return c(this,e,arguments.length>1?arguments[1]:void 0)}})},"65f0":function(e,t,n){var r=n("0b42");e.exports=function(e,t){return new(r(e))(0===t?0:t)}},8418:function(e,t,n){"use strict";var r=n("a04b"),c=n("9bf2"),l=n("5c6c");e.exports=function(e,t,n){var a=r(t);a in e?c.f(e,a,l(0,n)):e[a]=n}},"8aa5":function(e,t,n){"use strict";var r=n("6547").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},9263:function(e,t,n){"use strict";var r=n("577e"),c=n("ad6d"),l=n("9f7f"),a=n("5692"),o=n("7c73"),i=n("69f3").get,s=n("fce3"),d=n("107c"),u=RegExp.prototype.exec,m=a("native-string-replace",String.prototype.replace),p=u,b=function(){var e=/a/,t=/b*/g;return u.call(e,"a"),u.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),f=l.UNSUPPORTED_Y||l.BROKEN_CARET,O=void 0!==/()??/.exec("")[1],j=b||O||f||s||d;j&&(p=function(e){var t,n,l,a,s,d,j,v=this,g=i(v),E=r(e),x=g.raw;if(x)return x.lastIndex=v.lastIndex,t=p.call(x,E),v.lastIndex=x.lastIndex,t;var h=g.groups,V=f&&v.sticky,N=c.call(v),y=v.source,_=0,w=E;if(V&&(N=N.replace("y",""),-1===N.indexOf("g")&&(N+="g"),w=E.slice(v.lastIndex),v.lastIndex>0&&(!v.multiline||v.multiline&&"\n"!==E.charAt(v.lastIndex-1))&&(y="(?: "+y+")",w=" "+w,_++),n=new RegExp("^(?:"+y+")",N)),O&&(n=new RegExp("^"+y+"$(?!\\s)",N)),b&&(l=v.lastIndex),a=u.call(V?n:v,w),V?a?(a.input=a.input.slice(_),a[0]=a[0].slice(_),a.index=v.lastIndex,v.lastIndex+=a[0].length):v.lastIndex=0:b&&a&&(v.lastIndex=v.global?a.index+a[0].length:l),O&&a&&a.length>1&&m.call(a[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(a[s]=void 0)})),a&&h)for(a.groups=d=o(null),s=0;s<h.length;s++)j=h[s],d[j[0]]=a[j[1]];return a}),e.exports=p},"9f7f":function(e,t,n){var r=n("d039"),c=n("da84"),l=c.RegExp;t.UNSUPPORTED_Y=r((function(){var e=l("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=l("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a434:function(e,t,n){"use strict";var r=n("23e7"),c=n("23cb"),l=n("a691"),a=n("50c4"),o=n("7b0b"),i=n("65f0"),s=n("8418"),d=n("1dde"),u=d("splice"),m=Math.max,p=Math.min,b=9007199254740991,f="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var n,r,d,u,O,j,v=o(this),g=a(v.length),E=c(e,g),x=arguments.length;if(0===x?n=r=0:1===x?(n=0,r=g-E):(n=x-2,r=p(m(l(t),0),g-E)),g+n-r>b)throw TypeError(f);for(d=i(v,r),u=0;u<r;u++)O=E+u,O in v&&s(d,u,v[O]);if(d.length=r,n<r){for(u=E;u<g-r;u++)O=u+r,j=u+n,O in v?v[j]=v[O]:delete v[j];for(u=g;u>g-r+n;u--)delete v[u-1]}else if(n>r)for(u=g-r;u>E;u--)O=u+r-1,j=u+n-1,O in v?v[j]=v[O]:delete v[j];for(u=0;u<n;u++)v[u+E]=arguments[u+2];return v.length=g-r+n,d}})},a536:function(e,t,n){"use strict";n.r(t);var r=n("7a23"),c=Object(r["createElementVNode"])("div",{class:"row"},[Object(r["createElementVNode"])("div",{class:"col-12"},[Object(r["createElementVNode"])("div",{class:"alert alert-primary"}," jksldfjsl ")])],-1),l={class:"row"},a={class:"col-12"},o={class:"card"},i={class:"card-header"},s=Object(r["createElementVNode"])("h5",{class:"card-title"},[Object(r["createElementVNode"])("b",null,"Trip Request")],-1),d={class:"card-tools"},u={class:"input-group input-group-sm",style:{width:"150px"}},m={class:"card-body p-0"},p={class:"table table-hovered table-striped text-sm"},b=Object(r["createElementVNode"])("thead",null,[Object(r["createElementVNode"])("tr",{class:"text-center"},[Object(r["createElementVNode"])("th",{class:"text-left"},"ID"),Object(r["createElementVNode"])("th",null,"First Name"),Object(r["createElementVNode"])("th",null,"Last name"),Object(r["createElementVNode"])("th",null,"Date From"),Object(r["createElementVNode"])("th",null,"Date To"),Object(r["createElementVNode"])("th",null,"Time In"),Object(r["createElementVNode"])("th",null,"Time Out"),Object(r["createElementVNode"])("th",null,"Dest. From"),Object(r["createElementVNode"])("th",null,"Dest. To"),Object(r["createElementVNode"])("th",null,"Status"),Object(r["createElementVNode"])("th",null,"Created At"),Object(r["createElementVNode"])("th",null,"Actions")])],-1),f={key:0,class:"text-center"},O=Object(r["createElementVNode"])("tr",null,[Object(r["createElementVNode"])("td",{colspan:"12"},[Object(r["createElementVNode"])("i",{class:"fas fa fa-pulse fa-spinner fa-2x"})])],-1),j=[O],v={key:1,class:"text-center"},g={class:"text-left"},E={key:0,class:"fas fa-exclamation text-warning"},x={key:1,class:"fas fa-check text-success"},h=["onClick"],V=Object(r["createElementVNode"])("i",{class:"fas fa-search"},null,-1),N=[V],y={class:"modal fade show",id:"modal-lg","aria-modal":"true",role:"dialog"},_={class:"modal-dialog modal-lg modal-dialog-centered"},w={class:"modal-content"},T={key:0,class:"overlay"},k=Object(r["createElementVNode"])("i",{class:"fas fa-2x fa-spinner fa-spin"},null,-1),R=[k],D={class:"modal-header"},B={class:"modal-title"},I=Object(r["createElementVNode"])("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[Object(r["createElementVNode"])("span",{"aria-hidden":"true"},"Ã—")],-1),S={class:"modal-body"},A={class:"row"},C={class:"form-group col-md-6"},M=Object(r["createElementVNode"])("label",null,"Date From",-1),U={class:"form-group col-md-6"},q=Object(r["createElementVNode"])("label",null,"Date To",-1),L={class:"form-group col-md-6"},F=Object(r["createElementVNode"])("label",null,"Time In",-1),P={class:"form-group col-md-6"},J=Object(r["createElementVNode"])("label",null,"Time Out",-1),K={key:0,class:"form-group col-6"},Y=Object(r["createElementVNode"])("label",null,"Destination From",-1),$={key:1,class:"form-group col-6"},z=Object(r["createElementVNode"])("label",null,"To",-1),G={class:"form-group col-12"},H=Object(r["createElementVNode"])("label",null,"Reason",-1),Q={class:"modal-footer"},W=["disabled"];function X(e,t,n,O,V,k){return Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,[c,Object(r["createElementVNode"])("div",l,[Object(r["createElementVNode"])("div",a,[Object(r["createElementVNode"])("div",o,[Object(r["createElementVNode"])("div",i,[s,Object(r["createElementVNode"])("div",d,[Object(r["createElementVNode"])("div",u,[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.tripSearch=t}),type:"text",name:"table_search",class:"form-control float-right",placeholder:"Search by last name"},null,512),[[r["vModelText"],e.tripSearch]])])])]),Object(r["createElementVNode"])("div",m,[Object(r["createElementVNode"])("table",p,[b,e.trip.isRequestLoading?(Object(r["openBlock"])(),Object(r["createElementBlock"])("tbody",f,j)):(Object(r["openBlock"])(),Object(r["createElementBlock"])("tbody",v,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.trips,(function(t,n){var c,l;return Object(r["openBlock"])(),Object(r["createElementBlock"])("tr",{key:t.id},[Object(r["createElementVNode"])("td",g,Object(r["toDisplayString"])(t.id),1),Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(null===(c=t.employee)||void 0===c?void 0:c.first_name),1),Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(null===(l=t.employee)||void 0===l?void 0:l.last_name),1),Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(t.date_from),1),Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(t.date_to),1),Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(t.time_in.standard),1),Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(t.time_out.standard),1),Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(t.destination_from),1),Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(t.destination_to),1),Object(r["createElementVNode"])("td",null,["Pending"==t.status?(Object(r["openBlock"])(),Object(r["createElementBlock"])("i",E)):Object(r["createCommentVNode"])("",!0),"Acknowledged"==t.status?(Object(r["openBlock"])(),Object(r["createElementBlock"])("i",x)):Object(r["createCommentVNode"])("",!0)]),Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(t.created_at),1),Object(r["createElementVNode"])("td",null,[Object(r["createElementVNode"])("button",{onClick:function(r){return e.selectTrip(t,n)},"data-toggle":"modal","data-target":"#modal-lg",class:"btn btn-primary btn-xs mr-1"},N,8,h)])])})),128))]))])])])])]),Object(r["createElementVNode"])("div",y,[Object(r["createElementVNode"])("div",_,[Object(r["createElementVNode"])("div",w,[e.trip.isRequestLoading?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",T,R)):Object(r["createCommentVNode"])("",!0),Object(r["createElementVNode"])("div",D,[Object(r["createElementVNode"])("h4",B,"Trip of "+Object(r["toDisplayString"])(e.selectedTrip.first_name)+" "+Object(r["toDisplayString"])(e.selectedTrip.last_name),1),I]),Object(r["createElementVNode"])("div",S,[Object(r["createElementVNode"])("div",A,[Object(r["createElementVNode"])("div",C,[M,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.selectedTrip.date_from=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[r["vModelText"],e.selectedTrip.date_from]])]),Object(r["createElementVNode"])("div",U,[q,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.selectedTrip.date_to=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[r["vModelText"],e.selectedTrip.date_to]])]),Object(r["createElementVNode"])("div",L,[F,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.selectedTrip.time_in=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[r["vModelText"],e.selectedTrip.time_in]])]),Object(r["createElementVNode"])("div",P,[J,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.selectedTrip.time_out=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[r["vModelText"],e.selectedTrip.time_out]])]),e.selectedTrip.destination_from?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",K,[Y,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.selectedTrip.destination_from=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[r["vModelText"],e.selectedTrip.destination_from]])])):Object(r["createCommentVNode"])("",!0),e.selectedTrip.destination_to?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",$,[z,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.selectedTrip.destination_to=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[r["vModelText"],e.selectedTrip.destination_to]])])):Object(r["createCommentVNode"])("",!0),Object(r["createElementVNode"])("div",G,[H,Object(r["withDirectives"])(Object(r["createElementVNode"])("textarea",{"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.selectedTrip.purpose=t}),disabled:"",cols:"30",rows:"10",class:"form-control form-control-sm"},null,512),[[r["vModelText"],e.selectedTrip.purpose]])])])]),Object(r["createElementVNode"])("div",Q,[Object(r["createElementVNode"])("button",{disabled:e.selectedTrip.status="Acknowledged",onClick:t[8]||(t[8]=function(t){return e.acknowledgedSelectedRequest(e.selectedTrip.id)}),class:"btn btn-success btn-sm btn-block"},"Acknowledged",8,W)])])])])],64)}var Z=n("1da1"),ee=(n("96cf"),n("4de4"),n("ac1f"),n("466d"),n("a434"),n("5a15")),te=n("be92"),ne=Object(te["b"])({id:"hr_trips",state:function(){return{trips:[],isRequestLoading:!1}},getters:{getAllTrips:function(){return this.trips}},actions:{loadAllTrips:function(){var e=this;return Object(Z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=e.trips.length){t.next=7;break}return e.isRequestLoading=!0,t.next=4,ee["a"].get("/api/hr/trips");case 4:n=t.sent,e.trips=n.data.data,e.isRequestLoading=!1;case 7:case"end":return t.stop()}}),t)})))()},acknowledgeTrip:function(e,t){var n=this;return Object(Z["a"])(regeneratorRuntime.mark((function r(){var c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n.isRequestLoading=!0,r.next=3,ee["a"].patch("/api/hr/trips/".concat(e,"/acknowledged"));case 3:c=r.sent,n.trips.splice(t,1,c.data),n.isRequestLoading=!1;case 6:case"end":return r.stop()}}),r)})))()}}}),re=Object(r["defineComponent"])({setup:function(){var e=ne(),t=Object(r["ref"])(0),n=Object(r["ref"])({id:0,first_name:"",last_name:"",date_from:"",date_to:"",time_in:"",time_out:"",destination_from:"",destination_to:"",purpose:""}),c=Object(r["ref"])(""),l=Object(r["computed"])((function(){return e.getAllTrips.filter((function(e){return e.employee.last_name.toLowerCase().match(c.value)}))})),a=function(e,r){n.value.id=e.id,n.value.first_name=e.employee.first_name,n.value.last_name=e.employee.last_name,n.value.date_from=e.date_from,n.value.date_to=e.date_to,n.value.time_in=e.time_in.standard,n.value.time_out=e.time_out.standard,n.value.destination_from=e.destination_from,n.value.destination_to=e.destination_to,n.value.purpose=e.purpose,t.value=r},o=function(){var n=Object(Z["a"])(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.acknowledgeTrip(r,t.value);case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(r["onBeforeMount"])(Object(Z["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadAllTrips();case 2:case"end":return t.stop()}}),t)})))),{trip:e,trips:l,selectedTrip:n,tripSearch:c,selectTrip:a,acknowledgedSelectedRequest:o}}}),ce=n("6b0d"),le=n.n(ce);const ae=le()(re,[["render",X]]);t["default"]=ae},ac1f:function(e,t,n){"use strict";var r=n("23e7"),c=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==c},{exec:c})},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b727:function(e,t,n){var r=n("0366"),c=n("44ad"),l=n("7b0b"),a=n("50c4"),o=n("65f0"),i=[].push,s=function(e){var t=1==e,n=2==e,s=3==e,d=4==e,u=6==e,m=7==e,p=5==e||u;return function(b,f,O,j){for(var v,g,E=l(b),x=c(E),h=r(f,O,3),V=a(x.length),N=0,y=j||o,_=t?y(b,V):n||m?y(b,0):void 0;V>N;N++)if((p||N in x)&&(v=x[N],g=h(v,N,E),e))if(t)_[N]=g;else if(g)switch(e){case 3:return!0;case 5:return v;case 6:return N;case 2:i.call(_,v)}else switch(e){case 4:return!1;case 7:i.call(_,v)}return u?-1:s||d?d:_}};e.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6),filterReject:s(7)}},d784:function(e,t,n){"use strict";n("ac1f");var r=n("6eeb"),c=n("9263"),l=n("d039"),a=n("b622"),o=n("9112"),i=a("species"),s=RegExp.prototype;e.exports=function(e,t,n,d){var u=a(e),m=!l((function(){var t={};return t[u]=function(){return 7},7!=""[e](t)})),p=m&&!l((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[i]=function(){return n},n.flags="",n[u]=/./[u]),n.exec=function(){return t=!0,null},n[u](""),!t}));if(!m||!p||n){var b=/./[u],f=t(u,""[e],(function(e,t,n,r,l){var a=t.exec;return a===c||a===s.exec?m&&!l?{done:!0,value:b.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}));r(String.prototype,e,f[0]),r(s,u,f[1])}d&&o(s[u],"sham",!0)}},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},fce3:function(e,t,n){var r=n("d039"),c=n("da84"),l=c.RegExp;e.exports=r((function(){var e=l(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))}}]);
//# sourceMappingURL=hr-trips.5d52632c.js.map