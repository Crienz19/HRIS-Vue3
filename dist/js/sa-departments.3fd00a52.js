(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["sa-departments"],{"029f":function(e,t,r){"use strict";r.r(t);r("b0c0");var n=r("7a23"),a=Object(n["createElementVNode"])("div",{class:"row"},[Object(n["createElementVNode"])("div",{class:"col-12"},[Object(n["createElementVNode"])("div",{class:"alert alert-primary"}," sadasd ")])],-1),c={class:"row"},s={class:"col-3"},o={class:"card"},i=Object(n["createElementVNode"])("div",{class:"card-header"},[Object(n["createElementVNode"])("h3",{class:"card-title"}," Departments ")],-1),u={class:"card-body"},l={class:"form-group"},d=Object(n["createElementVNode"])("label",null,"Name",-1),m={class:"form-group"},p=Object(n["createElementVNode"])("label",null,"Display Name",-1),b={class:"form-group"},f=Object(n["createElementVNode"])("label",null,"Supervisor",-1),v=Object(n["createElementVNode"])("option",{value:""},"Select Supervisor",-1),j=["value"],O={class:"form-group"},h=Object(n["createElementVNode"])("button",{class:"btn btn-danger btn-sm"},"Cancel",-1),g={class:"col-9"},w={class:"card"},E=Object(n["createElementVNode"])("div",{class:"card-header"},[Object(n["createElementVNode"])("h3",{class:"card-title"},"Department List")],-1),N={class:"card-body p-0"},V={class:"table table-sm table-striped"},x=Object(n["createElementVNode"])("thead",null,[Object(n["createElementVNode"])("tr",null,[Object(n["createElementVNode"])("th",null,"ID"),Object(n["createElementVNode"])("th",null,"Name"),Object(n["createElementVNode"])("th",null,"Display"),Object(n["createElementVNode"])("th",null,"Supervisor"),Object(n["createElementVNode"])("th",null,"Actions")])],-1),k=["onClick"],y=Object(n["createElementVNode"])("i",{class:"fas fa-edit"},null,-1),D=[y],R=["onClick"],A=Object(n["createElementVNode"])("i",{class:"fas fa-times"},null,-1),B=[A];function _(e,t,r,y,A,_){return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[a,Object(n["createElementVNode"])("div",c,[Object(n["createElementVNode"])("div",s,[Object(n["createElementVNode"])("div",o,[i,Object(n["createElementVNode"])("div",u,[Object(n["createElementVNode"])("div",l,[d,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.departmentForm.name=t}),type:"text",name:"",id:"",class:"form-control form-control-sm"},null,512),[[n["vModelText"],e.departmentForm.name]])]),Object(n["createElementVNode"])("div",m,[p,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.departmentForm.display_name=t}),type:"text",name:"",id:"",class:"form-control form-control-sm"},null,512),[[n["vModelText"],e.departmentForm.display_name]])]),Object(n["createElementVNode"])("div",b,[f,Object(n["withDirectives"])(Object(n["createElementVNode"])("select",{"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.departmentForm.supervisor_id=t}),class:"form-control form-control-sm"},[v,(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.supervisors,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("option",{key:e.id,value:e.id},Object(n["toDisplayString"])(e.name),9,j)})),128))],512),[[n["vModelSelect"],e.departmentForm.supervisor_id]])]),Object(n["createElementVNode"])("div",O,[e.isEdit?(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],{key:1},[Object(n["createElementVNode"])("button",{onClick:t[4]||(t[4]=function(t){return e.updateDepartment()}),class:"btn btn-success btn-sm mr-1"},"Update"),h],64)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{key:0,onClick:t[3]||(t[3]=function(t){return e.addDepartment()}),class:"btn btn-primary btn-sm"},"Add"))])])])]),Object(n["createElementVNode"])("div",g,[Object(n["createElementVNode"])("div",w,[E,Object(n["createElementVNode"])("div",N,[Object(n["createElementVNode"])("table",V,[x,Object(n["createElementVNode"])("tbody",null,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.departments,(function(t,r){return Object(n["openBlock"])(),Object(n["createElementBlock"])("tr",{key:t.id},[Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.id),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.name),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.display_name),1),Object(n["createElementVNode"])("th",null,Object(n["toDisplayString"])(t.employee.first_name)+" "+Object(n["toDisplayString"])(t.employee.last_name),1),Object(n["createElementVNode"])("td",null,[Object(n["createElementVNode"])("button",{onClick:function(n){return e.editDepartment(t,r)},class:"btn btn-primary btn-xs mr-1"},D,8,k),Object(n["createElementVNode"])("button",{onClick:function(n){return e.deleteDepartment(t.id,r)},class:"btn btn-danger btn-xs mr-1"},B,8,R)])])})),128))])])])])])])],64)}var S=r("1da1"),U=(r("96cf"),r("1c32")),F=r("2f48"),C=Object(n["defineComponent"])({setup:function(){var e=Object(F["a"])(),t=Object(U["a"])(),r=Object(n["computed"])((function(){return t.getAllDepartments})),a=Object(n["computed"])((function(){return e.getSupervisorUsers})),c=Object(n["ref"])(0),s=Object(n["ref"])(!1),o=Object(n["reactive"])({id:0,name:"",display_name:"",supervisor_id:0});Object(n["onBeforeMount"])(Object(S["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.loadAllDepartment();case 2:return r.next=4,e.loadAllPortalUsers();case 4:case"end":return r.stop()}}),r)}))));var i=function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.addDepartment(o);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(e,t){o.id=e.id,o.name=e.name,o.display_name=e.display_name,o.supervisor_id=e.supervisor_id,c.value=t,s.value=!0},l=function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.updateDepartment(o,c.value);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(r,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=confirm("Delete this department?"),!a){e.next=4;break}return e.next=4,t.deleteDepartment(r,n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),m=function(){s.value=!1};return{departmentForm:o,departments:r,supervisors:a,isEdit:s,addDepartment:i,editDepartment:u,updateDepartment:l,deleteDepartment:d,cancelDepartment:m}}}),L=r("6b0d"),M=r.n(L);const T=M()(C,[["render",_]]);t["default"]=T},"0b42":function(e,t,r){var n=r("e8b5"),a=r("68ee"),c=r("861d"),s=r("b622"),o=s("species");e.exports=function(e){var t;return n(e)&&(t=e.constructor,a(t)&&(t===Array||n(t.prototype))?t=void 0:c(t)&&(t=t[o],null===t&&(t=void 0))),void 0===t?Array:t}},"1c32":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("1da1"),a=(r("a434"),r("96cf"),r("5a15")),c=r("be92"),s=Object(c["b"])({id:"superadmin_settings_department",state:function(){return{departments:[]}},getters:{getAllDepartments:function(){return this.departments}},actions:{loadAllDepartment:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=e.departments.length){t.next=5;break}return t.next=3,a["a"].get("/api/sa/departments");case 3:r=t.sent,e.departments=r.data;case 5:case"end":return t.stop()}}),t)})))()},addDepartment:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,a["a"].post("/api/sa/departments",e);case 2:n=r.sent,t.departments.unshift(n.data);case 4:case"end":return r.stop()}}),r)})))()},updateDepartment:function(e,t){var r=this;return Object(n["a"])(regeneratorRuntime.mark((function n(){var c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a["a"].patch("/api/sa/departments/".concat(e.id),e);case 2:c=n.sent,r.departments.splice(t,1,c.data);case 4:case"end":return n.stop()}}),n)})))()},deleteDepartment:function(e,t){var r=this;return Object(n["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a["a"].delete("/api/sa/departments/".concat(e));case 2:r.departments.splice(t,1);case 3:case"end":return n.stop()}}),n)})))()}}})},"1dde":function(e,t,r){var n=r("d039"),a=r("b622"),c=r("2d00"),s=a("species");e.exports=function(e){return c>=51||!n((function(){var t=[],r=t.constructor={};return r[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"2f48":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("1da1"),a=(r("96cf"),r("4de4"),r("a434"),r("5a15")),c=r("be92"),s=Object(c["b"])({id:"superadmin_users",state:function(){return{users:[],isLoading:!1}},getters:{getRegisteredUsers:function(){return this.users},getSupervisorUsers:function(){return this.users.filter((function(e){return"supervisor"==e.role}))},getDataIsLoading:function(){return this.isLoading}},actions:{loadAllPortalUsers:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=e.users.length){t.next=7;break}return e.isLoading=!0,t.next=4,a["a"].get("/api/sa/users");case 4:r=t.sent,e.users=r.data,e.isLoading=!1;case 7:case"end":return t.stop()}}),t)})))()},resetSelectUserPassword:function(e){return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post("/api/sa/users/setToDefault/".concat(e));case 2:case"end":return t.stop()}}),t)})))()},setUserActive:function(e,t,r){var c=this;return Object(n["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a["a"].patch("/api/users/".concat(e),{isActivated:t});case 2:s=n.sent,c.users.splice(r,1,s.data);case 4:case"end":return n.stop()}}),n)})))()},setUserRole:function(e,t,r){var c=this;return Object(n["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a["a"].patch("/api/users/".concat(e),{role:t});case 2:s=n.sent,c.users.splice(r,1,s.data);case 4:case"end":return n.stop()}}),n)})))()},updateLeaveCredits:function(e,t){return Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,a["a"].patch("/api/sa/credits/".concat(e),t);case 3:r.sent,r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](0),console.log(r.t0);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))()}}})},"4de4":function(e,t,r){"use strict";var n=r("23e7"),a=r("b727").filter,c=r("1dde"),s=c("filter");n({target:"Array",proto:!0,forced:!s},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},"65f0":function(e,t,r){var n=r("0b42");e.exports=function(e,t){return new(n(e))(0===t?0:t)}},8418:function(e,t,r){"use strict";var n=r("a04b"),a=r("9bf2"),c=r("5c6c");e.exports=function(e,t,r){var s=n(t);s in e?a.f(e,s,c(0,r)):e[s]=r}},a434:function(e,t,r){"use strict";var n=r("23e7"),a=r("23cb"),c=r("a691"),s=r("50c4"),o=r("7b0b"),i=r("65f0"),u=r("8418"),l=r("1dde"),d=l("splice"),m=Math.max,p=Math.min,b=9007199254740991,f="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!d},{splice:function(e,t){var r,n,l,d,v,j,O=o(this),h=s(O.length),g=a(e,h),w=arguments.length;if(0===w?r=n=0:1===w?(r=0,n=h-g):(r=w-2,n=p(m(c(t),0),h-g)),h+r-n>b)throw TypeError(f);for(l=i(O,n),d=0;d<n;d++)v=g+d,v in O&&u(l,d,O[v]);if(l.length=n,r<n){for(d=g;d<h-n;d++)v=d+n,j=d+r,v in O?O[j]=O[v]:delete O[j];for(d=h;d>h-n+r;d--)delete O[d-1]}else if(r>n)for(d=h-n;d>g;d--)v=d+n-1,j=d+r-1,v in O?O[j]=O[v]:delete O[j];for(d=0;d<r;d++)O[d+g]=arguments[d+2];return O.length=h-n+r,l}})},b727:function(e,t,r){var n=r("0366"),a=r("44ad"),c=r("7b0b"),s=r("50c4"),o=r("65f0"),i=[].push,u=function(e){var t=1==e,r=2==e,u=3==e,l=4==e,d=6==e,m=7==e,p=5==e||d;return function(b,f,v,j){for(var O,h,g=c(b),w=a(g),E=n(f,v,3),N=s(w.length),V=0,x=j||o,k=t?x(b,N):r||m?x(b,0):void 0;N>V;V++)if((p||V in w)&&(O=w[V],h=E(O,V,g),e))if(t)k[V]=h;else if(h)switch(e){case 3:return!0;case 5:return O;case 6:return V;case 2:i.call(k,O)}else switch(e){case 4:return!1;case 7:i.call(k,O)}return d?-1:u||l?l:k}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},e8b5:function(e,t,r){var n=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}}}]);
//# sourceMappingURL=sa-departments.3fd00a52.js.map