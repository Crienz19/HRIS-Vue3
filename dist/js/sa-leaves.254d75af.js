(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["sa-leaves"],{"107c":function(e,t,n){var a=n("d039"),r=n("da84"),c=r.RegExp;e.exports=a((function(){var e=c("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},"14c3":function(e,t,n){var a=n("825a"),r=n("1626"),c=n("c6b6"),l=n("9263");e.exports=function(e,t){var n=e.exec;if(r(n)){var o=n.call(e,t);return null!==o&&a(o),o}if("RegExp"===c(e))return l.call(e,t);throw TypeError("RegExp#exec called on incompatible receiver")}},"466d":function(e,t,n){"use strict";var a=n("d784"),r=n("825a"),c=n("50c4"),l=n("577e"),o=n("1d80"),s=n("dc4a"),i=n("8aa5"),d=n("14c3");a("match",(function(e,t,n){return[function(t){var n=o(this),a=void 0==t?void 0:s(t,e);return a?a.call(t,n):new RegExp(t)[e](l(n))},function(e){var a=r(this),o=l(e),s=n(t,a,o);if(s.done)return s.value;if(!a.global)return d(a,o);var u=a.unicode;a.lastIndex=0;var m,p=[],v=0;while(null!==(m=d(a,o))){var b=l(m[0]);p[v]=b,""===b&&(a.lastIndex=i(o,c(a.lastIndex),u)),v++}return 0===v?null:p}]}))},"4de4":function(e,t,n){"use strict";var a=n("23e7"),r=n("b727").filter,c=n("1dde"),l=c("filter");a({target:"Array",proto:!0,forced:!l},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},"59ac":function(e,t,n){"use strict";n.r(t);var a=n("7a23"),r=Object(a["createElementVNode"])("div",{class:"row"},[Object(a["createElementVNode"])("div",{class:"col-12"},[Object(a["createElementVNode"])("div",{class:"alert alert-primary"}," jksldfjsl ")])],-1),c={class:"row"},l={class:"col-12"},o={class:"card"},s={class:"card-header"},i=Object(a["createElementVNode"])("h5",{class:"card-title"},[Object(a["createElementVNode"])("b",null,"Leave Request")],-1),d={class:"card-tools"},u={class:"input-group input-group-sm",style:{width:"150px"}},m={class:"card-body p-0"},p={class:"table table-hovered table-striped text-sm"},v=Object(a["createElementVNode"])("thead",null,[Object(a["createElementVNode"])("tr",{class:"text-center"},[Object(a["createElementVNode"])("th",{class:"text-left"},"ID"),Object(a["createElementVNode"])("th",null,"First Name"),Object(a["createElementVNode"])("th",null,"Last name"),Object(a["createElementVNode"])("th",null,"Type"),Object(a["createElementVNode"])("th",null,"Pay"),Object(a["createElementVNode"])("th",null,"From"),Object(a["createElementVNode"])("th",null,"To"),Object(a["createElementVNode"])("th",null,"Recommending Approval"),Object(a["createElementVNode"])("th",null,"Final Approval"),Object(a["createElementVNode"])("th",null,"Created At"),Object(a["createElementVNode"])("th",null,"Actions")])],-1),b={key:0},f=Object(a["createElementVNode"])("tr",{class:"text-center"},[Object(a["createElementVNode"])("td",{colspan:"11"},[Object(a["createElementVNode"])("i",{class:"fas fa-spinner fa-pulse fa-2x"})])],-1),O=[f],j={key:1},g={class:"text-left"},E=["onChange"],x={selected:""},h=Object(a["createElementVNode"])("option",{value:"Pending"},"Pending",-1),V=Object(a["createElementVNode"])("option",{value:"Approved"},"Approved",-1),N=Object(a["createElementVNode"])("option",{value:"Disapproved"},"Disapproved",-1),y=["onChange"],w={selected:""},R=Object(a["createElementVNode"])("option",{value:"Pending"},"Pending",-1),L=Object(a["createElementVNode"])("option",{value:"Approved"},"Approved",-1),k=Object(a["createElementVNode"])("option",{value:"Disapproved"},"Disapproved",-1),_=["onClick"],D=Object(a["createElementVNode"])("i",{class:"fas fa-search"},null,-1),A=[D],T=["onClick"],S=Object(a["createElementVNode"])("i",{class:"fas fa-times"},null,-1),I=[S],B={key:1},C=Object(a["createElementVNode"])("td",{colspan:"11",class:"text-center"},"No data to display",-1),F=[C],U={class:"modal fade show",id:"modal-lg","aria-modal":"true",role:"dialog"},q={class:"modal-dialog modal-lg modal-dialog-centered"},M={class:"modal-content"},P={class:"modal-header"},J={class:"modal-title"},K=Object(a["createElementVNode"])("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[Object(a["createElementVNode"])("span",{"aria-hidden":"true"},"Ã—")],-1),Y={class:"modal-body"},$={class:"row"},z={class:"form-group col-md-6"},G=Object(a["createElementVNode"])("label",null,"Type",-1),H={class:"form-group col-md-6"},Q=Object(a["createElementVNode"])("label",null,"Pay",-1),W={class:"form-group col-md-6"},X=Object(a["createElementVNode"])("label",null,"From",-1),Z={class:"form-group col-md-6"},ee=Object(a["createElementVNode"])("label",null,"Time From",-1),te={key:0,class:"form-group col-6"},ne=Object(a["createElementVNode"])("label",null,"Time To",-1),ae={key:1,class:"form-group col-6"},re=Object(a["createElementVNode"])("label",null,"To",-1),ce={class:"form-group col-12"},le=Object(a["createElementVNode"])("label",null,"Reason",-1);function oe(e,t,n,f,D,S){return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[r,Object(a["createElementVNode"])("div",c,[Object(a["createElementVNode"])("div",l,[Object(a["createElementVNode"])("div",o,[Object(a["createElementVNode"])("div",s,[i,Object(a["createElementVNode"])("div",d,[Object(a["createElementVNode"])("div",u,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.leaveSearch=t}),type:"text",name:"table_search",class:"form-control float-right",placeholder:"Search"},null,512),[[a["vModelText"],e.leaveSearch]])])])]),Object(a["createElementVNode"])("div",m,[Object(a["createElementVNode"])("table",p,[v,e.leave.isRequestLoading?(Object(a["openBlock"])(),Object(a["createElementBlock"])("tbody",b,O)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("tbody",j,[e.leaves.length>0?(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],{key:0},Object(a["renderList"])(e.leaves,(function(t,n){return Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",{class:"text-center",key:t.id},[Object(a["createElementVNode"])("td",g,Object(a["toDisplayString"])(t.id),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(t.employee.first_name),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(t.employee.last_name),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(t.type),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(t.pay_type),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(t.from),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(t.to),1),Object(a["createElementVNode"])("td",null,[Object(a["createElementVNode"])("select",{onChange:function(a){return e.changeRecommendingApproval(t,n,a.target.value)},class:"form-control form-control-xs"},[Object(a["createElementVNode"])("option",x,Object(a["toDisplayString"])(t.recommending_approval),1),h,V,N],40,E)]),Object(a["createElementVNode"])("td",null,[Object(a["createElementVNode"])("select",{onChange:function(a){return e.changeFinalApproval(t,n,a.target.value)},class:"form-control form-control-xs"},[Object(a["createElementVNode"])("option",w,Object(a["toDisplayString"])(t.final_approval),1),R,L,k],40,y)]),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(t.created_at),1),Object(a["createElementVNode"])("td",null,[Object(a["createElementVNode"])("button",{onClick:function(n){return e.selectLeave(t)},"data-toggle":"modal","data-target":"#modal-lg",class:"btn btn-primary btn-xs mr-1"},A,8,_),Object(a["createElementVNode"])("button",{onClick:function(a){return e.deleteLeave(t.id,n)},class:"btn btn-danger btn-xs"},I,8,T)])])})),128)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",B,F))]))])])])])]),Object(a["createElementVNode"])("div",U,[Object(a["createElementVNode"])("div",q,[Object(a["createElementVNode"])("div",M,[Object(a["createElementVNode"])("div",P,[Object(a["createElementVNode"])("h4",J,"Leave of "+Object(a["toDisplayString"])(e.selectedLeave.first_name)+" "+Object(a["toDisplayString"])(e.selectedLeave.last_name),1),K]),Object(a["createElementVNode"])("div",Y,[Object(a["createElementVNode"])("div",$,[Object(a["createElementVNode"])("div",z,[G,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.selectedLeave.type=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[a["vModelText"],e.selectedLeave.type]])]),Object(a["createElementVNode"])("div",H,[Q,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.selectedLeave.pay_type=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[a["vModelText"],e.selectedLeave.pay_type]])]),Object(a["createElementVNode"])("div",W,[X,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.selectedLeave.from=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[a["vModelText"],e.selectedLeave.from]])]),Object(a["createElementVNode"])("div",Z,[ee,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.selectedLeave.to=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[a["vModelText"],e.selectedLeave.to]])]),e.selectedLeave.time_from?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",te,[ne,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.selectedLeave.time_from=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[a["vModelText"],e.selectedLeave.time_from]])])):Object(a["createCommentVNode"])("",!0),e.selectedLeave.time_to?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ae,[re,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.selectedLeave.time_to=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[a["vModelText"],e.selectedLeave.time_to]])])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",ce,[le,Object(a["withDirectives"])(Object(a["createElementVNode"])("textarea",{"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.selectedLeave.reason=t}),disabled:"",cols:"30",rows:"10",class:"form-control form-control-sm"},null,512),[[a["vModelText"],e.selectedLeave.reason]])])])])])])])],64)}var se=n("1da1"),ie=(n("96cf"),n("4de4"),n("ac1f"),n("466d"),n("99af"),n("a434"),n("5a15")),de=n("be92"),ue=Object(de["b"])({id:"superadmin_leave",state:function(){return{leaves:[],isRequestLoading:!1}},getters:{getAllFiledLeaves:function(){return this.leaves}},actions:{loadAllLeaves:function(){var e=this;return Object(se["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=e.leaves.length){t.next=7;break}return e.isRequestLoading=!0,t.next=4,ie["a"].get("/api/sa/leaves");case 4:n=t.sent,e.leaves=n.data.data,e.isRequestLoading=!1;case 7:case"end":return t.stop()}}),t)})))()},changeRecommendingApprovalStatusTo:function(e,t){var n=this;return Object(se["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n.isRequestLoading=!0,a.next=3,ie["a"].patch("/api/sa/leaves/".concat(e.id),e);case 3:r=a.sent,n.leaves.splice(t,1,r.data.data),n.isRequestLoading=!1;case 6:case"end":return a.stop()}}),a)})))()},changeFinalApprovalStatusTo:function(e,t){var n=this;return Object(se["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n.isRequestLoading=!0,a.next=3,ie["a"].patch("/api/sa/leaves/".concat(e.id),e);case 3:r=a.sent,n.leaves.splice(t,1,r.data.data),n.isRequestLoading=!1;case 6:case"end":return a.stop()}}),a)})))()},deleteLeave:function(e,t){var n=this;return Object(se["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n.isRequestLoading=!0,a.next=3,ie["a"].delete("/api/sa/leaves/".concat(e));case 3:n.leaves.splice(t,1),n.isRequestLoading=!1;case 5:case"end":return a.stop()}}),a)})))()}}}),me=n("854a"),pe=Object(a["defineComponent"])({setup:function(){var e=ue(),t=Object(a["ref"])(""),n=Object(a["computed"])((function(){return e.getAllFiledLeaves.filter((function(e){return e.employee.last_name.toLowerCase().match(t.value)}))})),r=Object(a["ref"])({first_name:"",last_name:"",type:"",pay_type:"",from:"",to:"",time_from:"",time_to:"",reason:""});Object(a["onBeforeMount"])(Object(se["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadAllLeaves();case 2:case"end":return t.stop()}}),t)}))));var c=function(){var t=Object(se["a"])(regeneratorRuntime.mark((function t(n,a,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n.recommending_approval=r,t.next=3,e.changeRecommendingApprovalStatusTo(n,a);case 3:return t.next=5,me["success"]("Leave ID ".concat(n.id," recommending approval set to ").concat(n.recommending_approval));case 5:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),l=function(){var t=Object(se["a"])(regeneratorRuntime.mark((function t(n,a,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n.final_approval=r,t.next=3,e.changeFinalApprovalStatusTo(n,a);case 3:return t.next=5,me["success"]("Leave ID ".concat(n.id," final approval set to ").concat(n.final_approval));case 5:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),o=function(e){r.value.first_name=e.employee.first_name,r.value.last_name=e.employee.last_name,r.value.type=e.type,r.value.pay_type=e.pay_type,r.value.from=e.from,r.value.to=e.to,r.value.time_from=e.time_from,r.value.time_to=e.time_to,r.value.reason=e.reason},s=function(){var t=Object(se["a"])(regeneratorRuntime.mark((function t(n,a){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=confirm("Delete this leave?"),!r){t.next=4;break}return t.next=4,e.deleteLeave(n,a);case 4:return t.next=6,me["success"]("Leave ID ".concat(n," deleted."));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return{leave:e,leaves:n,selectedLeave:r,leaveSearch:t,changeRecommendingApproval:c,changeFinalApproval:l,selectLeave:o,deleteLeave:s}}}),ve=n("6b0d"),be=n.n(ve);const fe=be()(pe,[["render",oe]]);t["default"]=fe},"8aa5":function(e,t,n){"use strict";var a=n("6547").charAt;e.exports=function(e,t,n){return t+(n?a(e,t).length:1)}},9263:function(e,t,n){"use strict";var a=n("577e"),r=n("ad6d"),c=n("9f7f"),l=n("5692"),o=n("7c73"),s=n("69f3").get,i=n("fce3"),d=n("107c"),u=RegExp.prototype.exec,m=l("native-string-replace",String.prototype.replace),p=u,v=function(){var e=/a/,t=/b*/g;return u.call(e,"a"),u.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),b=c.UNSUPPORTED_Y||c.BROKEN_CARET,f=void 0!==/()??/.exec("")[1],O=v||f||b||i||d;O&&(p=function(e){var t,n,c,l,i,d,O,j=this,g=s(j),E=a(e),x=g.raw;if(x)return x.lastIndex=j.lastIndex,t=p.call(x,E),j.lastIndex=x.lastIndex,t;var h=g.groups,V=b&&j.sticky,N=r.call(j),y=j.source,w=0,R=E;if(V&&(N=N.replace("y",""),-1===N.indexOf("g")&&(N+="g"),R=E.slice(j.lastIndex),j.lastIndex>0&&(!j.multiline||j.multiline&&"\n"!==E.charAt(j.lastIndex-1))&&(y="(?: "+y+")",R=" "+R,w++),n=new RegExp("^(?:"+y+")",N)),f&&(n=new RegExp("^"+y+"$(?!\\s)",N)),v&&(c=j.lastIndex),l=u.call(V?n:j,R),V?l?(l.input=l.input.slice(w),l[0]=l[0].slice(w),l.index=j.lastIndex,j.lastIndex+=l[0].length):j.lastIndex=0:v&&l&&(j.lastIndex=j.global?l.index+l[0].length:c),f&&l&&l.length>1&&m.call(l[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(l[i]=void 0)})),l&&h)for(l.groups=d=o(null),i=0;i<h.length;i++)O=h[i],d[O[0]]=l[O[1]];return l}),e.exports=p},"99af":function(e,t,n){"use strict";var a=n("23e7"),r=n("d039"),c=n("e8b5"),l=n("861d"),o=n("7b0b"),s=n("50c4"),i=n("8418"),d=n("65f0"),u=n("1dde"),m=n("b622"),p=n("2d00"),v=m("isConcatSpreadable"),b=9007199254740991,f="Maximum allowed index exceeded",O=p>=51||!r((function(){var e=[];return e[v]=!1,e.concat()[0]!==e})),j=u("concat"),g=function(e){if(!l(e))return!1;var t=e[v];return void 0!==t?!!t:c(e)},E=!O||!j;a({target:"Array",proto:!0,forced:E},{concat:function(e){var t,n,a,r,c,l=o(this),u=d(l,0),m=0;for(t=-1,a=arguments.length;t<a;t++)if(c=-1===t?l:arguments[t],g(c)){if(r=s(c.length),m+r>b)throw TypeError(f);for(n=0;n<r;n++,m++)n in c&&i(u,m,c[n])}else{if(m>=b)throw TypeError(f);i(u,m++,c)}return u.length=m,u}})},"9f7f":function(e,t,n){var a=n("d039"),r=n("da84"),c=r.RegExp;t.UNSUPPORTED_Y=a((function(){var e=c("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=a((function(){var e=c("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},ac1f:function(e,t,n){"use strict";var a=n("23e7"),r=n("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(e,t,n){"use strict";var a=n("825a");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},d784:function(e,t,n){"use strict";n("ac1f");var a=n("6eeb"),r=n("9263"),c=n("d039"),l=n("b622"),o=n("9112"),s=l("species"),i=RegExp.prototype;e.exports=function(e,t,n,d){var u=l(e),m=!c((function(){var t={};return t[u]=function(){return 7},7!=""[e](t)})),p=m&&!c((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[s]=function(){return n},n.flags="",n[u]=/./[u]),n.exec=function(){return t=!0,null},n[u](""),!t}));if(!m||!p||n){var v=/./[u],b=t(u,""[e],(function(e,t,n,a,c){var l=t.exec;return l===r||l===i.exec?m&&!c?{done:!0,value:v.call(t,n,a)}:{done:!0,value:e.call(n,t,a)}:{done:!1}}));a(String.prototype,e,b[0]),a(i,u,b[1])}d&&o(i[u],"sham",!0)}},fce3:function(e,t,n){var a=n("d039"),r=n("da84"),c=r.RegExp;e.exports=a((function(){var e=c(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))}}]);
//# sourceMappingURL=sa-leaves.254d75af.js.map