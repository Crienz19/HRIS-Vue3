(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["sv-subs-leaves'"],{"0b42":function(e,t,a){var n=a("e8b5"),c=a("68ee"),r=a("861d"),l=a("b622"),o=l("species");e.exports=function(e){var t;return n(e)&&(t=e.constructor,c(t)&&(t===Array||n(t.prototype))?t=void 0:r(t)&&(t=t[o],null===t&&(t=void 0))),void 0===t?Array:t}},1893:function(e,t,a){"use strict";a.r(t);var n=a("7a23"),c=Object(n["createElementVNode"])("div",{class:"row"},[Object(n["createElementVNode"])("div",{class:"col-12"},[Object(n["createElementVNode"])("div",{class:"alert alert-primary"},[Object(n["createElementVNode"])("h5",null,"Testing")])])],-1),r={class:"row"},l={class:"col-12"},o={class:"card"},s=Object(n["createElementVNode"])("div",{class:"card-header"},[Object(n["createElementVNode"])("h3",{class:"card-title"},"Leave Subs")],-1),i={class:"card-body p-0"},d={class:"table table-sm table-striped text-center"},m=Object(n["createElementVNode"])("thead",null,[Object(n["createElementVNode"])("tr",null,[Object(n["createElementVNode"])("th",{class:"text-left"},"ID"),Object(n["createElementVNode"])("th",null,"First name"),Object(n["createElementVNode"])("th",null,"Last name"),Object(n["createElementVNode"])("th",null,"Type"),Object(n["createElementVNode"])("th",null,"Pay"),Object(n["createElementVNode"])("th",null,"From"),Object(n["createElementVNode"])("th",null,"To"),Object(n["createElementVNode"])("th",null,"Recommending Approval"),Object(n["createElementVNode"])("th",null,"Final Approval"),Object(n["createElementVNode"])("th",null,"Created At"),Object(n["createElementVNode"])("th",null,"Actions")])],-1),u={key:0},p=Object(n["createElementVNode"])("tr",null,[Object(n["createElementVNode"])("td",{colspan:"11"},[Object(n["createElementVNode"])("i",{class:"fas fa fa-pulse fa-spinner fa-2x"})])],-1),b=[p],v={key:1},f={class:"text-left"},j={key:0,class:"text-warning fas fa fa-exclamation"},O={key:1,class:"text-success fas fa fa-check"},E={key:2,class:"text-danger fas fa fa-times"},V={key:0,class:"text-warning fas fa fa-exclamation"},g={key:1,class:"text-success fas fa fa-check"},N={key:2,class:"text-danger fas fa fa-times"},h=["onClick"],y=Object(n["createElementVNode"])("i",{class:"fas fa fa-search"},null,-1),k=[y],x={class:"modal fade show",id:"modal-lg","aria-modal":"true",role:"dialog"},w={class:"modal-dialog modal-lg modal-dialog-centered"},L={class:"modal-content"},_={key:0,class:"overlay"},R=Object(n["createElementVNode"])("i",{class:"fas fa-2x fa-spinner fa-spin"},null,-1),B=[R],D={class:"modal-header"},T={class:"modal-title"},S=Object(n["createElementVNode"])("button",{id:"modal-close",type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[Object(n["createElementVNode"])("span",{"aria-hidden":"true"},"Ã—")],-1),q={class:"modal-body"},C={class:"row"},A={class:"form-group col-md-6"},M=Object(n["createElementVNode"])("label",null,"Type",-1),F={class:"form-group col-md-6"},U=Object(n["createElementVNode"])("label",null,"Pay",-1),P={class:"form-group col-md-6"},I=Object(n["createElementVNode"])("label",null,"From",-1),J={class:"form-group col-md-6"},z=Object(n["createElementVNode"])("label",null,"To",-1),G={key:0,class:"form-group col-6"},H=Object(n["createElementVNode"])("label",null,"Time From",-1),K={key:1,class:"form-group col-6"},Q=Object(n["createElementVNode"])("label",null,"Time To",-1),W={class:"form-group col-12"},X=Object(n["createElementVNode"])("label",null,"Reason",-1),Y={class:"modal-footer"},Z=["disabled"],$=["disabled"];function ee(e,t,a,p,y,R){return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[c,Object(n["createElementVNode"])("div",r,[Object(n["createElementVNode"])("div",l,[Object(n["createElementVNode"])("div",o,[s,Object(n["createElementVNode"])("div",i,[Object(n["createElementVNode"])("table",d,[m,e.leave.isRequestLoading?(Object(n["openBlock"])(),Object(n["createElementBlock"])("tbody",u,b)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("tbody",v,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.leaves,(function(t,a){return Object(n["openBlock"])(),Object(n["createElementBlock"])("tr",{key:t.id},[Object(n["createElementVNode"])("td",f,Object(n["toDisplayString"])(t.id),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.employee.first_name),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.employee.last_name),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.type),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.pay_type),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.from),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.to),1),Object(n["createElementVNode"])("td",null,["Pending"==t.recommending_approval?(Object(n["openBlock"])(),Object(n["createElementBlock"])("i",j)):Object(n["createCommentVNode"])("",!0),"Approved"==t.recommending_approval?(Object(n["openBlock"])(),Object(n["createElementBlock"])("i",O)):Object(n["createCommentVNode"])("",!0),"Disapproved"==t.recommending_approval?(Object(n["openBlock"])(),Object(n["createElementBlock"])("i",E)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("td",null,["Pending"==t.final_approval?(Object(n["openBlock"])(),Object(n["createElementBlock"])("i",V)):Object(n["createCommentVNode"])("",!0),"Approved"==t.final_approval?(Object(n["openBlock"])(),Object(n["createElementBlock"])("i",g)):Object(n["createCommentVNode"])("",!0),"Disapproved"==t.final_approval?(Object(n["openBlock"])(),Object(n["createElementBlock"])("i",N)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.created_at),1),Object(n["createElementVNode"])("td",null,[Object(n["createElementVNode"])("button",{"data-toggle":"modal","data-target":"#modal-lg",onClick:function(n){return e.selectThisRequest(t,a)},class:"btn btn-sm btn-primary"},k,8,h)])])})),128))]))])])])])]),Object(n["createElementVNode"])("div",x,[Object(n["createElementVNode"])("div",w,[Object(n["createElementVNode"])("div",L,[e.leave.isRequestLoading?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",_,B)):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("div",D,[Object(n["createElementVNode"])("h4",T,"Leave of "+Object(n["toDisplayString"])(e.selectedLeave.first_name)+" "+Object(n["toDisplayString"])(e.selectedLeave.last_name),1),S]),Object(n["createElementVNode"])("div",q,[Object(n["createElementVNode"])("div",C,[Object(n["createElementVNode"])("div",A,[M,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.selectedLeave.type=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[n["vModelText"],e.selectedLeave.type]])]),Object(n["createElementVNode"])("div",F,[U,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.selectedLeave.pay_type=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[n["vModelText"],e.selectedLeave.pay_type]])]),Object(n["createElementVNode"])("div",P,[I,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.selectedLeave.from=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[n["vModelText"],e.selectedLeave.from]])]),Object(n["createElementVNode"])("div",J,[z,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.selectedLeave.to=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[n["vModelText"],e.selectedLeave.to]])]),e.selectedLeave.time_from?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",G,[H,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.selectedLeave.time_from=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[n["vModelText"],e.selectedLeave.time_from]])])):Object(n["createCommentVNode"])("",!0),e.selectedLeave.time_to?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",K,[Q,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.selectedLeave.time_to=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[n["vModelText"],e.selectedLeave.time_to]])])):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("div",W,[X,Object(n["withDirectives"])(Object(n["createElementVNode"])("textarea",{"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.selectedLeave.reason=t}),disabled:"",cols:"30",rows:"10",class:"form-control form-control-sm"},null,512),[[n["vModelText"],e.selectedLeave.reason]])])])]),Object(n["createElementVNode"])("div",Y,[Object(n["createElementVNode"])("button",{onClick:t[7]||(t[7]=function(t){return e.approveThisRequest(e.selectedLeave.id)}),disabled:"Approved"==e.selectedLeave.recommending_approval,class:"btn btn-success btn-block"},"Approve",8,Z),Object(n["createElementVNode"])("button",{onClick:t[8]||(t[8]=function(t){return e.disapproveThisRequest(e.selectedLeave.id)}),disabled:"Disapproved"==e.selectedLeave.recommending_approval,class:"btn btn-danger btn-block"},"Disapprove",8,$)])])])])],64)}var te=a("1da1"),ae=(a("96cf"),a("a434"),a("5a15")),ne=a("be92"),ce=Object(ne["b"])({id:"supervisor_leave",state:function(){return{leaves:[],isRequestLoading:!1}},getters:{getSubsLeave:function(){return this.leaves}},actions:{loadSubsLeave:function(){var e=this;return Object(te["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=e.leaves.length){t.next=15;break}return t.prev=1,e.isRequestLoading=!0,t.next=5,ae["a"].get("/api/sv/leaves");case 5:a=t.sent,e.leaves=a.data.data,e.isRequestLoading=!1,t.next=15;break;case 10:throw t.prev=10,t.t0=t["catch"](1),console.log(t.t0),e.isRequestLoading=!1,new Error;case 15:case"end":return t.stop()}}),t,null,[[1,10]])})))()},approveSelectedLeave:function(e,t){var a=this;return Object(te["a"])(regeneratorRuntime.mark((function n(){var c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,a.isRequestLoading=!0,n.next=4,ae["a"].patch("/api/sv/leaves/".concat(e,"/approved"));case 4:c=n.sent,a.leaves.splice(t,1,c.data.data),a.isRequestLoading=!1,n.next=13;break;case 9:throw n.prev=9,n.t0=n["catch"](0),a.isRequestLoading=!1,new Error;case 13:case"end":return n.stop()}}),n,null,[[0,9]])})))()},disapproveSelectedLeave:function(e,t){var a=this;return Object(te["a"])(regeneratorRuntime.mark((function n(){var c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,a.isRequestLoading=!0,n.next=4,ae["a"].patch("/api/sv/leaves/".concat(e,"/disapproved"));case 4:c=n.sent,a.leaves.splice(t,1,c.data.data),a.isRequestLoading=!1,n.next=13;break;case 9:throw n.prev=9,n.t0=n["catch"](0),a.isRequestLoading=!1,new Error;case 13:case"end":return n.stop()}}),n,null,[[0,9]])})))()}}}),re=Object(n["defineComponent"])({setup:function(){var e=ce(),t=Object(n["computed"])((function(){return e.getSubsLeave})),a=Object(n["ref"])(0),c=Object(n["ref"])({id:0,first_name:"",last_name:"",type:"",pay_type:"",from:"",to:"",time_from:"",time_to:"",reason:"",recommending_approval:"",final_approval:""});Object(n["onBeforeMount"])(Object(te["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadSubsLeave();case 2:case"end":return t.stop()}}),t)}))));var r=function(){var e=Object(te["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:c.value.id=t.id,c.value.first_name=t.employee.first_name,c.value.last_name=t.employee.last_name,c.value.type=t.type,c.value.pay_type=t.pay_type,c.value.from=t.from,c.value.to=t.to,c.value.time_from=t.time_from,c.value.time_to=t.time_to,c.value.reason=t.reason,c.value.recommending_approval=t.recommending_approval,c.value.final_approval=t.final_approval,a.value=n;case 13:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),l=function(){var t=Object(te["a"])(regeneratorRuntime.mark((function t(n){var c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.approveSelectedLeave(n,a.value);case 2:return t.next=4,null===(c=document.getElementById("modal-close"))||void 0===c?void 0:c.click();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=Object(te["a"])(regeneratorRuntime.mark((function t(n){var c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.disapproveSelectedLeave(n,a.value);case 2:return t.next=4,null===(c=document.getElementById("modal-close"))||void 0===c?void 0:c.click();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{leave:e,leaves:t,selectedLeave:c,selectThisRequest:r,approveThisRequest:l,disapproveThisRequest:o}}}),le=a("6b0d"),oe=a.n(le);const se=oe()(re,[["render",ee]]);t["default"]=se},"1dde":function(e,t,a){var n=a("d039"),c=a("b622"),r=a("2d00"),l=c("species");e.exports=function(e){return r>=51||!n((function(){var t=[],a=t.constructor={};return a[l]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"65f0":function(e,t,a){var n=a("0b42");e.exports=function(e,t){return new(n(e))(0===t?0:t)}},8418:function(e,t,a){"use strict";var n=a("a04b"),c=a("9bf2"),r=a("5c6c");e.exports=function(e,t,a){var l=n(t);l in e?c.f(e,l,r(0,a)):e[l]=a}},a434:function(e,t,a){"use strict";var n=a("23e7"),c=a("23cb"),r=a("a691"),l=a("50c4"),o=a("7b0b"),s=a("65f0"),i=a("8418"),d=a("1dde"),m=d("splice"),u=Math.max,p=Math.min,b=9007199254740991,v="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!m},{splice:function(e,t){var a,n,d,m,f,j,O=o(this),E=l(O.length),V=c(e,E),g=arguments.length;if(0===g?a=n=0:1===g?(a=0,n=E-V):(a=g-2,n=p(u(r(t),0),E-V)),E+a-n>b)throw TypeError(v);for(d=s(O,n),m=0;m<n;m++)f=V+m,f in O&&i(d,m,O[f]);if(d.length=n,a<n){for(m=V;m<E-n;m++)f=m+n,j=m+a,f in O?O[j]=O[f]:delete O[j];for(m=E;m>E-n+a;m--)delete O[m-1]}else if(a>n)for(m=E-n;m>V;m--)f=m+n-1,j=m+a-1,f in O?O[j]=O[f]:delete O[j];for(m=0;m<a;m++)O[m+V]=arguments[m+2];return O.length=E-n+a,d}})},e8b5:function(e,t,a){var n=a("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}}}]);
//# sourceMappingURL=sv-subs-leaves'.516122d7.js.map