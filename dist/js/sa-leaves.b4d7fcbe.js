(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["sa-leaves"],{"0b42":function(e,t,n){var a=n("e8b5"),r=n("68ee"),c=n("861d"),l=n("b622"),o=l("species");e.exports=function(e){var t;return a(e)&&(t=e.constructor,r(t)&&(t===Array||a(t.prototype))?t=void 0:c(t)&&(t=t[o],null===t&&(t=void 0))),void 0===t?Array:t}},"1dde":function(e,t,n){var a=n("d039"),r=n("b622"),c=n("2d00"),l=r("species");e.exports=function(e){return c>=51||!a((function(){var t=[],n=t.constructor={};return n[l]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"59ac":function(e,t,n){"use strict";n.r(t);var a=n("7a23"),r=Object(a["createElementVNode"])("div",{class:"row"},[Object(a["createElementVNode"])("div",{class:"col-12"},[Object(a["createElementVNode"])("div",{class:"alert alert-primary"}," jksldfjsl ")])],-1),c={class:"row"},l={class:"col-12"},o={class:"card"},s=Object(a["createStaticVNode"])('<div class="card-header"><h5 class="card-title"><b>Leave Request</b></h5><div class="card-tools"><div class="input-group input-group-sm" style="width:150px;"><input type="text" name="table_search" class="form-control float-right" placeholder="Search"><div class="input-group-append"><button type="submit" class="btn btn-default"><i class="fas fa-search"></i></button></div></div></div></div>',1),i={class:"card-body p-0"},d={class:"table table-hovered table-striped text-sm"},u=Object(a["createElementVNode"])("thead",null,[Object(a["createElementVNode"])("tr",{class:"text-center"},[Object(a["createElementVNode"])("th",{class:"text-left"},"ID"),Object(a["createElementVNode"])("th",null,"First Name"),Object(a["createElementVNode"])("th",null,"Last name"),Object(a["createElementVNode"])("th",null,"Type"),Object(a["createElementVNode"])("th",null,"Pay"),Object(a["createElementVNode"])("th",null,"From"),Object(a["createElementVNode"])("th",null,"To"),Object(a["createElementVNode"])("th",null,"Recommending Approval"),Object(a["createElementVNode"])("th",null,"Final Approval"),Object(a["createElementVNode"])("th",null,"Created At"),Object(a["createElementVNode"])("th",null,"Actions")])],-1),m={class:"text-left"},p=["onChange"],b={selected:""},v=Object(a["createElementVNode"])("option",{value:"Pending"},"Pending",-1),f=Object(a["createElementVNode"])("option",{value:"Approved"},"Approved",-1),j=Object(a["createElementVNode"])("option",{value:"Disapproved"},"Disapproved",-1),O=["onChange"],g={selected:""},V=Object(a["createElementVNode"])("option",{value:"Pending"},"Pending",-1),h=Object(a["createElementVNode"])("option",{value:"Approved"},"Approved",-1),E=Object(a["createElementVNode"])("option",{value:"Disapproved"},"Disapproved",-1),N=["onClick"],y=Object(a["createElementVNode"])("i",{class:"fas fa-search"},null,-1),x=[y],w=["onClick"],_=Object(a["createElementVNode"])("i",{class:"fas fa-times"},null,-1),L=[_],k={class:"modal fade show",id:"modal-lg","aria-modal":"true",role:"dialog"},A={class:"modal-dialog modal-lg modal-dialog-centered"},D={class:"modal-content"},R={class:"modal-header"},T={class:"modal-title"},S=Object(a["createElementVNode"])("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[Object(a["createElementVNode"])("span",{"aria-hidden":"true"},"Ã—")],-1),C={class:"modal-body"},F={class:"row"},B={class:"form-group col-md-6"},M=Object(a["createElementVNode"])("label",null,"Type",-1),U={class:"form-group col-md-6"},P=Object(a["createElementVNode"])("label",null,"Pay",-1),J={class:"form-group col-md-6"},q=Object(a["createElementVNode"])("label",null,"From",-1),I={class:"form-group col-md-6"},z=Object(a["createElementVNode"])("label",null,"Time From",-1),G={key:0,class:"form-group col-6"},H=Object(a["createElementVNode"])("label",null,"Time To",-1),K={key:1,class:"form-group col-6"},Q=Object(a["createElementVNode"])("label",null,"To",-1),W={class:"form-group col-12"},X=Object(a["createElementVNode"])("label",null,"Reason",-1);function Y(e,t,n,y,_,Y){return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[r,Object(a["createElementVNode"])("div",c,[Object(a["createElementVNode"])("div",l,[Object(a["createElementVNode"])("div",o,[s,Object(a["createElementVNode"])("div",i,[Object(a["createElementVNode"])("table",d,[u,Object(a["createElementVNode"])("tbody",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.leaves,(function(t,n){return Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",{class:"text-center",key:t.id},[Object(a["createElementVNode"])("td",m,Object(a["toDisplayString"])(t.id),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(t.employee.first_name),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(t.employee.last_name),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(t.type),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(t.pay_type),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(t.from),1),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(t.to),1),Object(a["createElementVNode"])("td",null,[Object(a["createElementVNode"])("select",{onChange:function(a){return e.changeRecommendingApproval(t,n,a.target.value)},class:"form-control form-control-xs"},[Object(a["createElementVNode"])("option",b,Object(a["toDisplayString"])(t.recommending_approval),1),v,f,j],40,p)]),Object(a["createElementVNode"])("td",null,[Object(a["createElementVNode"])("select",{onChange:function(a){return e.changeFinalApproval(t,n,a.target.value)},class:"form-control form-control-xs"},[Object(a["createElementVNode"])("option",g,Object(a["toDisplayString"])(t.final_approval),1),V,h,E],40,O)]),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(t.created_at),1),Object(a["createElementVNode"])("td",null,[Object(a["createElementVNode"])("button",{onClick:function(n){return e.selectLeave(t)},"data-toggle":"modal","data-target":"#modal-lg",class:"btn btn-primary btn-xs mr-1"},x,8,N),Object(a["createElementVNode"])("button",{onClick:function(a){return e.deleteLeave(t.id,n)},class:"btn btn-danger btn-xs"},L,8,w)])])})),128))])])])])])]),Object(a["createElementVNode"])("div",k,[Object(a["createElementVNode"])("div",A,[Object(a["createElementVNode"])("div",D,[Object(a["createElementVNode"])("div",R,[Object(a["createElementVNode"])("h4",T,"Leave of "+Object(a["toDisplayString"])(e.selectedLeave.first_name)+" "+Object(a["toDisplayString"])(e.selectedLeave.last_name),1),S]),Object(a["createElementVNode"])("div",C,[Object(a["createElementVNode"])("div",F,[Object(a["createElementVNode"])("div",B,[M,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.selectedLeave.type=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[a["vModelText"],e.selectedLeave.type]])]),Object(a["createElementVNode"])("div",U,[P,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.selectedLeave.pay_type=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[a["vModelText"],e.selectedLeave.pay_type]])]),Object(a["createElementVNode"])("div",J,[q,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.selectedLeave.from=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[a["vModelText"],e.selectedLeave.from]])]),Object(a["createElementVNode"])("div",I,[z,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.selectedLeave.to=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[a["vModelText"],e.selectedLeave.to]])]),e.selectedLeave.time_from?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",G,[H,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.selectedLeave.time_from=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[a["vModelText"],e.selectedLeave.time_from]])])):Object(a["createCommentVNode"])("",!0),e.selectedLeave.time_to?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",K,[Q,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.selectedLeave.time_to=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[a["vModelText"],e.selectedLeave.time_to]])])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",W,[X,Object(a["withDirectives"])(Object(a["createElementVNode"])("textarea",{"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.selectedLeave.reason=t}),disabled:"",cols:"30",rows:"10",class:"form-control form-control-sm"},null,512),[[a["vModelText"],e.selectedLeave.reason]])])])])])])])],64)}var Z=n("1da1"),$=(n("96cf"),n("a434"),n("5a15")),ee=n("be92"),te=Object(ee["b"])({id:"superadmin_leave",state:function(){return{leaves:[]}},getters:{getAllFiledLeaves:function(){return this.leaves}},actions:{loadAllLeaves:function(){var e=this;return Object(Z["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=e.leaves.length){t.next=5;break}return t.next=3,$["a"].get("/api/sa/leaves");case 3:n=t.sent,e.leaves=n.data.data;case 5:case"end":return t.stop()}}),t)})))()},changeRecommendingApprovalStatusTo:function(e,t){var n=this;return Object(Z["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,$["a"].patch("/api/sa/leaves/".concat(e.id),e);case 2:r=a.sent,n.leaves.splice(t,1,r.data.data);case 4:case"end":return a.stop()}}),a)})))()},changeFinalApprovalStatusTo:function(e,t){var n=this;return Object(Z["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,$["a"].patch("/api/sa/leaves/".concat(e.id),e);case 2:r=a.sent,n.leaves.splice(t,1,r.data.data);case 4:case"end":return a.stop()}}),a)})))()},deleteLeave:function(e,t){var n=this;return Object(Z["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,$["a"].delete("/api/sa/leaves/".concat(e));case 2:n.leaves.splice(t,1);case 3:case"end":return a.stop()}}),a)})))()}}}),ne=Object(a["defineComponent"])({setup:function(){var e=te(),t=Object(a["computed"])((function(){return e.getAllFiledLeaves})),n=Object(a["ref"])({first_name:"",last_name:"",type:"",pay_type:"",from:"",to:"",time_from:"",time_to:"",reason:""});Object(a["onBeforeMount"])(Object(Z["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadAllLeaves();case 2:case"end":return t.stop()}}),t)}))));var r=function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(n,a,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n.recommending_approval=r,t.next=3,e.changeRecommendingApprovalStatusTo(n,a);case 3:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),c=function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(n,a,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n.final_approval=r,t.next=3,e.changeFinalApprovalStatusTo(n,a);case 3:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),l=function(e){n.value.first_name=e.employee.first_name,n.value.last_name=e.employee.last_name,n.value.type=e.type,n.value.pay_type=e.pay_type,n.value.from=e.from,n.value.to=e.to,n.value.time_from=e.time_from,n.value.time_to=e.time_to,n.value.reason=e.reason},o=function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(n,a){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=confirm("Delete this leave?"),!r){t.next=4;break}return t.next=4,e.deleteLeave(n,a);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return{leaves:t,selectedLeave:n,changeRecommendingApproval:r,changeFinalApproval:c,selectLeave:l,deleteLeave:o}}}),ae=n("6b0d"),re=n.n(ae);const ce=re()(ne,[["render",Y]]);t["default"]=ce},"65f0":function(e,t,n){var a=n("0b42");e.exports=function(e,t){return new(a(e))(0===t?0:t)}},8418:function(e,t,n){"use strict";var a=n("a04b"),r=n("9bf2"),c=n("5c6c");e.exports=function(e,t,n){var l=a(t);l in e?r.f(e,l,c(0,n)):e[l]=n}},a434:function(e,t,n){"use strict";var a=n("23e7"),r=n("23cb"),c=n("a691"),l=n("50c4"),o=n("7b0b"),s=n("65f0"),i=n("8418"),d=n("1dde"),u=d("splice"),m=Math.max,p=Math.min,b=9007199254740991,v="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var n,a,d,u,f,j,O=o(this),g=l(O.length),V=r(e,g),h=arguments.length;if(0===h?n=a=0:1===h?(n=0,a=g-V):(n=h-2,a=p(m(c(t),0),g-V)),g+n-a>b)throw TypeError(v);for(d=s(O,a),u=0;u<a;u++)f=V+u,f in O&&i(d,u,O[f]);if(d.length=a,n<a){for(u=V;u<g-a;u++)f=u+a,j=u+n,f in O?O[j]=O[f]:delete O[j];for(u=g;u>g-a+n;u--)delete O[u-1]}else if(n>a)for(u=g-a;u>V;u--)f=u+a-1,j=u+n-1,f in O?O[j]=O[f]:delete O[j];for(u=0;u<n;u++)O[u+V]=arguments[u+2];return O.length=g-a+n,d}})},e8b5:function(e,t,n){var a=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==a(e)}}}]);
//# sourceMappingURL=sa-leaves.b4d7fcbe.js.map