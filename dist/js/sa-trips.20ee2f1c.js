(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["sa-trips"],{"0b42":function(e,t,n){var r=n("e8b5"),a=n("68ee"),c=n("861d"),o=n("b622"),l=o("species");e.exports=function(e){var t;return r(e)&&(t=e.constructor,a(t)&&(t===Array||r(t.prototype))?t=void 0:c(t)&&(t=t[l],null===t&&(t=void 0))),void 0===t?Array:t}},"1dde":function(e,t,n){var r=n("d039"),a=n("b622"),c=n("2d00"),o=a("species");e.exports=function(e){return c>=51||!r((function(){var t=[],n=t.constructor={};return n[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"65f0":function(e,t,n){var r=n("0b42");e.exports=function(e,t){return new(r(e))(0===t?0:t)}},8418:function(e,t,n){"use strict";var r=n("a04b"),a=n("9bf2"),c=n("5c6c");e.exports=function(e,t,n){var o=r(t);o in e?a.f(e,o,c(0,n)):e[o]=n}},a434:function(e,t,n){"use strict";var r=n("23e7"),a=n("23cb"),c=n("a691"),o=n("50c4"),l=n("7b0b"),i=n("65f0"),s=n("8418"),d=n("1dde"),u=d("splice"),m=Math.max,p=Math.min,b=9007199254740991,f="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var n,r,d,u,j,O,v=l(this),V=o(v.length),E=a(e,V),N=arguments.length;if(0===N?n=r=0:1===N?(n=0,r=V-E):(n=N-2,r=p(m(c(t),0),V-E)),V+n-r>b)throw TypeError(f);for(d=i(v,r),u=0;u<r;u++)j=E+u,j in v&&s(d,u,v[j]);if(d.length=r,n<r){for(u=E;u<V-r;u++)j=u+r,O=u+n,j in v?v[O]=v[j]:delete v[O];for(u=V;u>V-r+n;u--)delete v[u-1]}else if(n>r)for(u=V-r;u>E;u--)j=u+r-1,O=u+n-1,j in v?v[O]=v[j]:delete v[O];for(u=0;u<n;u++)v[u+E]=arguments[u+2];return v.length=V-r+n,d}})},e446:function(e,t,n){"use strict";n.r(t);var r=n("7a23"),a=Object(r["createElementVNode"])("div",{class:"row"},[Object(r["createElementVNode"])("div",{class:"col-12"},[Object(r["createElementVNode"])("div",{class:"alert alert-primary"}," jksldfjsl ")])],-1),c={class:"row"},o={class:"col-12"},l={class:"card"},i=Object(r["createStaticVNode"])('<div class="card-header"><h5 class="card-title"><b>Trip Request</b></h5><div class="card-tools"><div class="input-group input-group-sm" style="width:150px;"><input type="text" name="table_search" class="form-control float-right" placeholder="Search"><div class="input-group-append"><button type="submit" class="btn btn-default"><i class="fas fa-search"></i></button></div></div></div></div>',1),s={class:"card-body p-0"},d={class:"table table-hovered table-striped text-sm"},u=Object(r["createElementVNode"])("thead",null,[Object(r["createElementVNode"])("tr",{class:"text-center"},[Object(r["createElementVNode"])("th",{class:"text-left"},"ID"),Object(r["createElementVNode"])("th",null,"First Name"),Object(r["createElementVNode"])("th",null,"Last name"),Object(r["createElementVNode"])("th",null,"Date From"),Object(r["createElementVNode"])("th",null,"Date To"),Object(r["createElementVNode"])("th",null,"Time In"),Object(r["createElementVNode"])("th",null,"Time Out"),Object(r["createElementVNode"])("th",null,"Dest. From"),Object(r["createElementVNode"])("th",null,"Dest. To"),Object(r["createElementVNode"])("th",null,"Status"),Object(r["createElementVNode"])("th",null,"Created At"),Object(r["createElementVNode"])("th",null,"Actions")])],-1),m={class:"text-center"},p={class:"text-left"},b=["onChange"],f={selected:""},j=Object(r["createElementVNode"])("option",{value:"Pending"},"Pending",-1),O=Object(r["createElementVNode"])("option",{value:"Acknowledged"},"Acknowledged",-1),v=["onClick"],V=Object(r["createElementVNode"])("i",{class:"fas fa-search"},null,-1),E=[V],N=["onClick"],h=Object(r["createElementVNode"])("i",{class:"fas fa-times"},null,-1),g=[h],T={class:"modal fade show",id:"modal-lg","aria-modal":"true",role:"dialog"},_={class:"modal-dialog modal-lg modal-dialog-centered"},x={class:"modal-content"},y={class:"modal-header"},w={class:"modal-title"},k=Object(r["createElementVNode"])("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[Object(r["createElementVNode"])("span",{"aria-hidden":"true"},"Ã—")],-1),D={class:"modal-body"},S={class:"row"},R={class:"form-group col-md-6"},A=Object(r["createElementVNode"])("label",null,"Date From",-1),B={class:"form-group col-md-6"},C=Object(r["createElementVNode"])("label",null,"Date To",-1),M={class:"form-group col-md-6"},F=Object(r["createElementVNode"])("label",null,"Time In",-1),U={class:"form-group col-md-6"},q=Object(r["createElementVNode"])("label",null,"Time Out",-1),I={key:0,class:"form-group col-6"},J=Object(r["createElementVNode"])("label",null,"Destination From",-1),L={key:1,class:"form-group col-6"},P=Object(r["createElementVNode"])("label",null,"To",-1),z={class:"form-group col-12"},G=Object(r["createElementVNode"])("label",null,"Reason",-1);function H(e,t,n,V,h,H){return Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,[a,Object(r["createElementVNode"])("div",c,[Object(r["createElementVNode"])("div",o,[Object(r["createElementVNode"])("div",l,[i,Object(r["createElementVNode"])("div",s,[Object(r["createElementVNode"])("table",d,[u,Object(r["createElementVNode"])("tbody",m,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.trips,(function(t,n){var a,c;return Object(r["openBlock"])(),Object(r["createElementBlock"])("tr",{key:t.id},[Object(r["createElementVNode"])("td",p,Object(r["toDisplayString"])(t.id),1),Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(null===(a=t.employee)||void 0===a?void 0:a.first_name),1),Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(null===(c=t.employee)||void 0===c?void 0:c.last_name),1),Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(t.date_from),1),Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(t.date_to),1),Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(t.time_in.standard),1),Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(t.time_out.standard),1),Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(t.destination_from),1),Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(t.destination_to),1),Object(r["createElementVNode"])("td",null,[Object(r["createElementVNode"])("select",{onChange:function(r){return e.changeTripStatus(t,n,r.target.value)},class:"form-control form-control-xs"},[Object(r["createElementVNode"])("option",f,Object(r["toDisplayString"])(t.status),1),j,O],40,b)]),Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(t.created_at),1),Object(r["createElementVNode"])("td",null,[Object(r["createElementVNode"])("button",{onClick:function(n){return e.selectTrip(t)},"data-toggle":"modal","data-target":"#modal-lg",class:"btn btn-primary btn-xs mr-1"},E,8,v),Object(r["createElementVNode"])("button",{onClick:function(r){return e.deleteTripRequest(t.id,n)},class:"btn btn-danger btn-xs mr-1"},g,8,N)])])})),128))])])])])])]),Object(r["createElementVNode"])("div",T,[Object(r["createElementVNode"])("div",_,[Object(r["createElementVNode"])("div",x,[Object(r["createElementVNode"])("div",y,[Object(r["createElementVNode"])("h4",w,"Trip of "+Object(r["toDisplayString"])(e.selectedTrip.first_name)+" "+Object(r["toDisplayString"])(e.selectedTrip.last_name),1),k]),Object(r["createElementVNode"])("div",D,[Object(r["createElementVNode"])("div",S,[Object(r["createElementVNode"])("div",R,[A,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.selectedTrip.date_from=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[r["vModelText"],e.selectedTrip.date_from]])]),Object(r["createElementVNode"])("div",B,[C,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.selectedTrip.date_to=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[r["vModelText"],e.selectedTrip.date_to]])]),Object(r["createElementVNode"])("div",M,[F,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.selectedTrip.time_in=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[r["vModelText"],e.selectedTrip.time_in]])]),Object(r["createElementVNode"])("div",U,[q,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.selectedTrip.time_out=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[r["vModelText"],e.selectedTrip.time_out]])]),e.selectedTrip.destination_from?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",I,[J,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.selectedTrip.destination_from=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[r["vModelText"],e.selectedTrip.destination_from]])])):Object(r["createCommentVNode"])("",!0),e.selectedTrip.destination_to?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",L,[P,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.selectedTrip.destination_to=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[r["vModelText"],e.selectedTrip.destination_to]])])):Object(r["createCommentVNode"])("",!0),Object(r["createElementVNode"])("div",z,[G,Object(r["withDirectives"])(Object(r["createElementVNode"])("textarea",{"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.selectedTrip.purpose=t}),disabled:"",cols:"30",rows:"10",class:"form-control form-control-sm"},null,512),[[r["vModelText"],e.selectedTrip.purpose]])])])])])])])],64)}var K=n("1da1"),Q=(n("96cf"),n("a434"),n("5a15")),W=n("be92"),X=Object(W["b"])({id:"superadmin_trip",state:function(){return{trips:[]}},getters:{getAllFiledTrips:function(){return this.trips}},actions:{loadAllTrips:function(){var e=this;return Object(K["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=e.trips.length){t.next=5;break}return t.next=3,Q["a"].get("/api/sa/trips");case 3:n=t.sent,e.trips=n.data.data;case 5:case"end":return t.stop()}}),t)})))()},changeTripStatusTo:function(e,t){var n=this;return Object(K["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Q["a"].patch("/api/sa/trips/".concat(e.id),e);case 2:a=r.sent,n.trips.splice(t,1,a.data.data);case 4:case"end":return r.stop()}}),r)})))()},deleteTrip:function(e,t){var n=this;return Object(K["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Q["a"].delete("/api/sa/trips/".concat(e));case 2:n.trips.splice(t,1);case 3:case"end":return r.stop()}}),r)})))()}}}),Y=Object(r["defineComponent"])({setup:function(){var e=X(),t=Object(r["computed"])((function(){return e.getAllFiledTrips})),n=Object(r["ref"])({first_name:"",last_name:"",date_from:"",date_to:"",time_in:"",time_out:"",destination_from:"",destination_to:"",purpose:""});Object(r["onBeforeMount"])(Object(K["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadAllTrips();case 2:case"end":return t.stop()}}),t)}))));var a=function(){var t=Object(K["a"])(regeneratorRuntime.mark((function t(n,r,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n.status=a,t.next=3,e.changeTripStatusTo(n,r);case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),c=function(e){n.value.first_name=e.employee.first_name,n.value.last_name=e.employee.last_name,n.value.date_from=e.date_from,n.value.date_to=e.date_to,n.value.time_in=e.time_in.standard,n.value.time_out=e.time_out.standard,n.value.destination_from=e.destination_from,n.value.destination_to=e.destination_to,n.value.purpose=e.purpose},o=function(){var t=Object(K["a"])(regeneratorRuntime.mark((function t(n,r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=confirm("Delete this request?"),!a){t.next=4;break}return t.next=4,e.deleteTrip(n,r);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return{trips:t,selectedTrip:n,selectTrip:c,changeTripStatus:a,deleteTripRequest:o}}}),Z=n("6b0d"),$=n.n(Z);const ee=$()(Y,[["render",H]]);t["default"]=ee},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}}}]);
//# sourceMappingURL=sa-trips.20ee2f1c.js.map