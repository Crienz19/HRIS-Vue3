(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["sa-overtimes"],{a60b:function(e,t,a){"use strict";a.r(t);var n=a("7a23"),r=Object(n["createElementVNode"])("div",{class:"row"},[Object(n["createElementVNode"])("div",{class:"col-12"},[Object(n["createElementVNode"])("div",{class:"alert alert-primary"}," jksldfjsl ")])],-1),c={class:"row"},l={class:"col-12"},o={class:"card"},s=Object(n["createStaticVNode"])('<div class="card-header"><h5 class="card-title"><b>Leave Request</b></h5><div class="card-tools"><div class="input-group input-group-sm" style="width:150px;"><input type="text" name="table_search" class="form-control float-right" placeholder="Search"><div class="input-group-append"><button type="submit" class="btn btn-default"><i class="fas fa-search"></i></button></div></div></div></div>',1),i={class:"card-body p-0"},d={class:"table table-hovered table-striped text-sm"},m=Object(n["createElementVNode"])("thead",null,[Object(n["createElementVNode"])("tr",null,[Object(n["createElementVNode"])("th",null,"ID"),Object(n["createElementVNode"])("th",null,"First Name"),Object(n["createElementVNode"])("th",null,"Last name"),Object(n["createElementVNode"])("th",null,"Date"),Object(n["createElementVNode"])("th",null,"From"),Object(n["createElementVNode"])("th",null,"To"),Object(n["createElementVNode"])("th",null,"Reason"),Object(n["createElementVNode"])("th",null,"Status"),Object(n["createElementVNode"])("th",null,"Created At"),Object(n["createElementVNode"])("th",null,"Actions")])],-1),u={key:0},b=Object(n["createElementVNode"])("tr",{class:"text-center"},[Object(n["createElementVNode"])("td",{colspan:"11"},[Object(n["createElementVNode"])("i",{class:"fas fa-spinner fa-pulse fa-2x"})])],-1),O=[b],v={key:1},p={class:"text-center"},j=["onChange"],f={selected:""},E=Object(n["createElementVNode"])("option",{value:"Pending"},"Pending",-1),V=Object(n["createElementVNode"])("option",{value:"Approved"},"Approved",-1),g=Object(n["createElementVNode"])("option",{value:"Disapproved"},"Disapproved",-1),N=["onClick"],h=Object(n["createElementVNode"])("i",{class:"fas fa-search"},null,-1),w=[h],x=["onClick"],y=Object(n["createElementVNode"])("i",{class:"fas fa-times"},null,-1),k=[y],R={class:"modal fade show",id:"modal-lg","aria-modal":"true",role:"dialog"},D={class:"modal-dialog modal-lg modal-dialog-centered"},S={class:"modal-content"},_={class:"modal-header"},B={class:"modal-title"},L=Object(n["createElementVNode"])("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[Object(n["createElementVNode"])("span",{"aria-hidden":"true"},"Ã—")],-1),q={class:"modal-body"},C={class:"row"},A={class:"form-group col-12"},T=Object(n["createElementVNode"])("label",null,"Date",-1),F={class:"form-group col-6"},M=Object(n["createElementVNode"])("label",null,"From",-1),U={class:"form-group col-6"},I=Object(n["createElementVNode"])("label",null,"To",-1),J={class:"form-group col-12"},P=Object(n["createElementVNode"])("label",null,"Reason",-1);function z(e,t,a,b,h,y){return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[r,Object(n["createElementVNode"])("div",c,[Object(n["createElementVNode"])("div",l,[Object(n["createElementVNode"])("div",o,[s,Object(n["createElementVNode"])("div",i,[Object(n["createElementVNode"])("table",d,[m,e.overtime.isRequestLoading?(Object(n["openBlock"])(),Object(n["createElementBlock"])("tbody",u,O)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("tbody",v,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.overtimes,(function(t,a){return Object(n["openBlock"])(),Object(n["createElementBlock"])("tr",{key:t.id},[Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.id),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.employee.first_name),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.employee.last_name),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.date),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.from.standard),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.to.standard),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.reason),1),Object(n["createElementVNode"])("td",p,[Object(n["createElementVNode"])("select",{onChange:function(n){return e.changeOvertimeStatus(t,a,n.target.value)},class:"form-control form-control-xs"},[Object(n["createElementVNode"])("option",f,Object(n["toDisplayString"])(t.status),1),E,V,g],40,j)]),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.created_at),1),Object(n["createElementVNode"])("td",null,[Object(n["createElementVNode"])("button",{onClick:function(a){return e.selectOvertime(t)},"data-toggle":"modal","data-target":"#modal-lg",class:"btn btn-primary btn-xs mr-1"},w,8,N),Object(n["createElementVNode"])("button",{onClick:function(n){return e.deleteOvertime(t.id,a)},class:"btn btn-danger btn-xs"},k,8,x)])])})),128))]))])])])])]),Object(n["createElementVNode"])("div",R,[Object(n["createElementVNode"])("div",D,[Object(n["createElementVNode"])("div",S,[Object(n["createElementVNode"])("div",_,[Object(n["createElementVNode"])("h4",B,"Overtime of "+Object(n["toDisplayString"])(e.selectedOvertime.first_name)+" "+Object(n["toDisplayString"])(e.selectedOvertime.last_name),1),L]),Object(n["createElementVNode"])("div",q,[Object(n["createElementVNode"])("div",C,[Object(n["createElementVNode"])("div",A,[T,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.selectedOvertime.date=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[n["vModelText"],e.selectedOvertime.date]])]),Object(n["createElementVNode"])("div",F,[M,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.selectedOvertime.from=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[n["vModelText"],e.selectedOvertime.from]])]),Object(n["createElementVNode"])("div",U,[I,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.selectedOvertime.to=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[n["vModelText"],e.selectedOvertime.to]])]),Object(n["createElementVNode"])("div",J,[P,Object(n["withDirectives"])(Object(n["createElementVNode"])("textarea",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.selectedOvertime.reason=t}),disabled:"",cols:"30",rows:"10",class:"form-control form-control-sm"},null,512),[[n["vModelText"],e.selectedOvertime.reason]])])])])])])])],64)}var G=a("1da1"),H=(a("96cf"),a("a434"),a("5a15")),K=a("be92"),Q=Object(K["b"])({id:"superadmin_overtime",state:function(){return{overtimes:[],isRequestLoading:!1}},getters:{getAllFiledOvertimes:function(){return this.overtimes}},actions:{loadAllOvertimes:function(){var e=this;return Object(G["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=e.overtimes.length){t.next=7;break}return e.isRequestLoading=!0,t.next=4,H["a"].get("/api/sa/overtimes");case 4:a=t.sent,e.overtimes=a.data.data,e.isRequestLoading=!1;case 7:case"end":return t.stop()}}),t)})))()},changeOvertimeStatusTo:function(e,t){var a=this;return Object(G["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a.isRequestLoading=!0,n.next=3,H["a"].patch("/api/sa/overtimes/".concat(e.id),e);case 3:r=n.sent,a.overtimes.splice(t,1,r.data.data),a.isRequestLoading=!1;case 6:case"end":return n.stop()}}),n)})))()},deleteOvertime:function(e,t){var a=this;return Object(G["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a.isRequestLoading=!0,n.next=3,H["a"].delete("/api/sa/overtimes/".concat(e));case 3:a.overtimes.splice(t,1),a.isRequestLoading=!1;case 5:case"end":return n.stop()}}),n)})))()}}}),W=a("854a"),X=Object(n["defineComponent"])({setup:function(){var e=Q(),t=Object(n["computed"])((function(){return e.getAllFiledOvertimes})),a=Object(n["ref"])({first_name:"",last_name:"",date:"",from:"",to:"",reason:""});Object(n["onBeforeMount"])(Object(G["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadAllOvertimes();case 2:case"end":return t.stop()}}),t)}))));var r=function(){var t=Object(G["a"])(regeneratorRuntime.mark((function t(a,n,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.status=r,t.next=3,e.changeOvertimeStatusTo(a,n);case 3:return t.next=5,W["info"]("Overtime status set to ".concat(a.status));case 5:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),c=function(e){a.value.first_name=e.employee.first_name,a.value.last_name=e.employee.last_name,a.value.date=e.date,a.value.from=e.from.standard,a.value.to=e.to.standard,a.value.reason=e.reason},l=function(){var t=Object(G["a"])(regeneratorRuntime.mark((function t(a,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=confirm("Delete this overtime?"),!r){t.next=4;break}return t.next=4,e.deleteOvertime(a,n);case 4:return t.next=6,W["success"]("Overtime ID ".concat(a," has been deleted."));case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}();return{overtime:e,overtimes:t,selectedOvertime:a,selectOvertime:c,changeOvertimeStatus:r,deleteOvertime:l}}}),Y=a("6b0d"),Z=a.n(Y);const $=Z()(X,[["render",z]]);t["default"]=$}}]);
//# sourceMappingURL=sa-overtimes.501193b7.js.map