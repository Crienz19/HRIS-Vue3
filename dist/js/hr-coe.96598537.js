(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["hr-coe"],{"0b42":function(e,t,c){var n=c("e8b5"),a=c("68ee"),o=c("861d"),r=c("b622"),l=r("species");e.exports=function(e){var t;return n(e)&&(t=e.constructor,a(t)&&(t===Array||n(t.prototype))?t=void 0:o(t)&&(t=t[l],null===t&&(t=void 0))),void 0===t?Array:t}},"1dde":function(e,t,c){var n=c("d039"),a=c("b622"),o=c("2d00"),r=a("species");e.exports=function(e){return o>=51||!n((function(){var t=[],c=t.constructor={};return c[r]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"65f0":function(e,t,c){var n=c("0b42");e.exports=function(e,t){return new(n(e))(0===t?0:t)}},8418:function(e,t,c){"use strict";var n=c("a04b"),a=c("9bf2"),o=c("5c6c");e.exports=function(e,t,c){var r=n(t);r in e?a.f(e,r,o(0,c)):e[r]=c}},a434:function(e,t,c){"use strict";var n=c("23e7"),a=c("23cb"),o=c("a691"),r=c("50c4"),l=c("7b0b"),s=c("65f0"),d=c("8418"),i=c("1dde"),u=i("splice"),b=Math.max,m=Math.min,O=9007199254740991,f="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var c,n,i,u,p,j,E=l(this),v=r(E.length),g=a(e,v),V=arguments.length;if(0===V?c=n=0:1===V?(c=0,n=v-g):(c=V-2,n=m(b(o(t),0),v-g)),v+c-n>O)throw TypeError(f);for(i=s(E,n),u=0;u<n;u++)p=g+u,p in E&&d(i,u,E[p]);if(i.length=n,c<n){for(u=g;u<v-n;u++)p=u+n,j=u+c,p in E?E[j]=E[p]:delete E[j];for(u=v;u>v-n+c;u--)delete E[u-1]}else if(c>n)for(u=v-n;u>g;u--)p=u+n-1,j=u+c-1,p in E?E[j]=E[p]:delete E[j];for(u=0;u<c;u++)E[u+g]=arguments[u+2];return E.length=v-n+c,i}})},c7fb:function(e,t,c){"use strict";c.r(t);var n=c("7a23"),a={class:"row"},o={class:"col-12"},r={class:"card"},l=Object(n["createElementVNode"])("div",{class:"card-header"},[Object(n["createElementVNode"])("h3",{class:"card-title"},"COEs"),Object(n["createElementVNode"])("div",{class:"card-tools"})],-1),s={class:"card-body p-0"},d={class:"table table-sm table-striped"},i=Object(n["createElementVNode"])("thead",null,[Object(n["createElementVNode"])("tr",{class:"text-center"},[Object(n["createElementVNode"])("th",{class:"text-left"},"ID"),Object(n["createElementVNode"])("th",null,"First Name"),Object(n["createElementVNode"])("th",null,"Last name"),Object(n["createElementVNode"])("th",null,"Date Requested"),Object(n["createElementVNode"])("th",null,"Date Needed"),Object(n["createElementVNode"])("th",null,"Compensation"),Object(n["createElementVNode"])("th",null,"Status"),Object(n["createElementVNode"])("th",null,"Actions")])],-1),u={key:0},b=Object(n["createElementVNode"])("tr",{class:"text-center"},[Object(n["createElementVNode"])("td",{colspan:"8"},[Object(n["createElementVNode"])("i",{class:"fas fa-2x fa-spinner fa-spin"})])],-1),m=[b],O={key:1},f={class:"text-left"},p={key:0},j={key:1},E={key:0,class:"fas fa-exclamation"},v={key:1,class:"fas fa-check"},g=["onClick"],V=Object(n["createElementVNode"])("i",{class:"fas fa-search"},null,-1),N=[V],h={class:"modal fade show",id:"modal-lg","aria-modal":"true",role:"dialog"},k={class:"modal-dialog modal-lg modal-dialog-centered"},w={class:"modal-content"},y={key:0,class:"overlay"},C=Object(n["createElementVNode"])("i",{class:"fas fa-2x fa-spinner fa-spin"},null,-1),x=[C],R={class:"modal-header"},B={class:"modal-title"},_=Object(n["createElementVNode"])("button",{id:"modal-close",type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[Object(n["createElementVNode"])("span",{"aria-hidden":"true"},"Ã—")],-1),A={class:"modal-body"},D={class:"row"},S={class:"form-group col-12"},q=Object(n["createElementVNode"])("label",null,"Date needed",-1),L={class:"form-group col-12"},F=Object(n["createElementVNode"])("label",null,"Reason",-1),M={class:"form-group col-12"},T=Object(n["createTextVNode"])(),P=Object(n["createElementVNode"])("i",null,"Please check if we need to indicate your compensation",-1),U={class:"modal-footer"},J=["disabled"];function W(e,t,c,b,V,C){return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createElementVNode"])("div",a,[Object(n["createElementVNode"])("div",o,[Object(n["createElementVNode"])("div",r,[l,Object(n["createElementVNode"])("div",s,[Object(n["createElementVNode"])("table",d,[i,e.coe.isRequestLoading?(Object(n["openBlock"])(),Object(n["createElementBlock"])("tbody",u,m)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("tbody",O,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.coes,(function(t,c){return Object(n["openBlock"])(),Object(n["createElementBlock"])("tr",{class:Object(n["normalizeClass"])(["text-center",e.setRowStatusColor(t.status)]),key:t.id},[Object(n["createElementVNode"])("td",f,Object(n["toDisplayString"])(t.id),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.employee.first_name),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.employee.last_name),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.created_at),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.date_needed),1),Object(n["createElementVNode"])("td",null,[t.compensation?(Object(n["openBlock"])(),Object(n["createElementBlock"])("b",p,"With Compensation")):(Object(n["openBlock"])(),Object(n["createElementBlock"])("b",j,"Without Compensation"))]),Object(n["createElementVNode"])("td",null,["Pending"==t.status?(Object(n["openBlock"])(),Object(n["createElementBlock"])("i",E)):Object(n["createCommentVNode"])("",!0),"Acknowledged"==t.status?(Object(n["openBlock"])(),Object(n["createElementBlock"])("i",v)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("td",null,[Object(n["createElementVNode"])("button",{onClick:function(n){return e.selectThisRequest(t,c)},"data-toggle":"modal","data-target":"#modal-lg",class:"btn btn-primary btn-sm"},N,8,g)])],2)})),128))]))])])])])]),Object(n["createElementVNode"])("div",h,[Object(n["createElementVNode"])("div",k,[Object(n["createElementVNode"])("div",w,[e.coe.isRequestLoading?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",y,x)):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("div",R,[Object(n["createElementVNode"])("h4",B,"COE Request of "+Object(n["toDisplayString"])(e.selectedCOE.first_name)+" "+Object(n["toDisplayString"])(e.selectedCOE.last_name),1),_]),Object(n["createElementVNode"])("div",A,[Object(n["createElementVNode"])("div",D,[Object(n["createElementVNode"])("div",S,[q,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{disabled:"","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.selectedCOE.date_needed=t}),type:"date",class:"form-control form-control-sm"},null,512),[[n["vModelText"],e.selectedCOE.date_needed]])]),Object(n["createElementVNode"])("div",L,[F,Object(n["withDirectives"])(Object(n["createElementVNode"])("textarea",{disabled:"","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.selectedCOE.reason=t}),cols:"30",rows:"10",class:"form-control form-control-sm"},null,512),[[n["vModelText"],e.selectedCOE.reason]])]),Object(n["createElementVNode"])("div",M,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{disabled:"","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.selectedCOE.compensation=t}),type:"checkbox"},null,512),[[n["vModelCheckbox"],e.selectedCOE.compensation]]),T,P])])]),Object(n["createElementVNode"])("div",U,[Object(n["createElementVNode"])("button",{onClick:t[3]||(t[3]=function(t){return e.acknowledgeRequest(e.selectedCOE.id)}),disabled:"Acknowledged"==e.selectedCOE.status,class:"btn btn-success btn-block"},"Acknowledge",8,J)])])])])],64)}var z=c("1da1"),I=(c("96cf"),c("f799")),G=(c("a434"),c("5a15")),H=c("be92"),K=Object(H["b"])({id:"hr_coe",state:function(){return{coes:[],isRequestLoading:!1}},getters:{getAllFiledCoes:function(){return this.coes}},actions:{loadAllFiledCoes:function(){var e=this;return Object(z["a"])(regeneratorRuntime.mark((function t(){var c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=e.coes.length){t.next=7;break}return e.isRequestLoading=!0,t.next=4,G["a"].get("/api/hr/coes");case 4:c=t.sent,e.coes=c.data.data,e.isRequestLoading=!1;case 7:case"end":return t.stop()}}),t)})))()},approveSelectedCoe:function(e,t){var c=this;return Object(z["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return c.isRequestLoading=!0,n.next=3,G["a"].patch("/api/hr/coes/".concat(e,"/approved"));case 3:a=n.sent,c.coes.splice(t,1,a.data),c.isRequestLoading=!1;case 6:case"end":return n.stop()}}),n)})))()}}}),Q=Object(n["defineComponent"])({setup:function(){var e=Object(I["a"])(),t=e.setRowStatusColor,c=K(),a=Object(n["computed"])((function(){return c.getAllFiledCoes})),o=Object(n["ref"])(0),r=Object(n["ref"])({id:0,first_name:"",last_name:"",created_at:"",reason:"",status:"",compensation:!1}),l=function(e,t){r.value.id=e.id,r.value.first_name=e.employee.first_name,r.value.last_name=e.employee.last_name,r.value.created_at=e.created_at,r.value.reason=e.reason,r.value.compensation=!!e.compensation,r.value.status=e.status,o.value=t},s=function(){var e=Object(z["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.approveSelectedCoe(t,o.value);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n["onBeforeMount"])(Object(z["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.loadAllFiledCoes();case 2:case"end":return e.stop()}}),e)})))),{coe:c,coes:a,selectedCOE:r,selectThisRequest:l,acknowledgeRequest:s,setRowStatusColor:t}}}),X=c("6b0d"),Y=c.n(X);const Z=Y()(Q,[["render",W]]);t["default"]=Z},e8b5:function(e,t,c){var n=c("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}},f799:function(e,t,c){"use strict";function n(){var e=function(e){var t="";switch(e){case"Pending":t="bg-warning";break;case"Acknowledged":t="bg-success";break;case"Approved":t="bg-success";break;case"Disapproved":t="bg-danger";break}return t};return{setRowStatusColor:e}}c.d(t,"a",(function(){return n}))}}]);
//# sourceMappingURL=hr-coe.96598537.js.map