(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["sa-leaves"],{"59ac":function(e,t,a){"use strict";a.r(t);var n=a("7a23"),c=Object(n["createElementVNode"])("div",{class:"row"},[Object(n["createElementVNode"])("div",{class:"col-12"},[Object(n["createElementVNode"])("div",{class:"alert alert-primary"}," jksldfjsl ")])],-1),r={class:"row"},l={class:"col-12"},o={class:"card"},s=Object(n["createStaticVNode"])('<div class="card-header"><h5 class="card-title"><b>Leave Request</b></h5><div class="card-tools"><div class="input-group input-group-sm" style="width:150px;"><input type="text" name="table_search" class="form-control float-right" placeholder="Search"><div class="input-group-append"><button type="submit" class="btn btn-default"><i class="fas fa-search"></i></button></div></div></div></div>',1),i={class:"card-body p-0"},d={class:"table table-hovered table-striped text-sm"},m=Object(n["createElementVNode"])("thead",null,[Object(n["createElementVNode"])("tr",{class:"text-center"},[Object(n["createElementVNode"])("th",{class:"text-left"},"ID"),Object(n["createElementVNode"])("th",null,"First Name"),Object(n["createElementVNode"])("th",null,"Last name"),Object(n["createElementVNode"])("th",null,"Type"),Object(n["createElementVNode"])("th",null,"Pay"),Object(n["createElementVNode"])("th",null,"From"),Object(n["createElementVNode"])("th",null,"To"),Object(n["createElementVNode"])("th",null,"Recommending Approval"),Object(n["createElementVNode"])("th",null,"Final Approval"),Object(n["createElementVNode"])("th",null,"Created At"),Object(n["createElementVNode"])("th",null,"Actions")])],-1),u={key:0},p=Object(n["createElementVNode"])("tr",{class:"text-center"},[Object(n["createElementVNode"])("td",{colspan:"11"},[Object(n["createElementVNode"])("i",{class:"fas fa-spinner fa-pulse fa-2x"})])],-1),b=[p],v={key:1},f={class:"text-left"},j=["onChange"],O={selected:""},g=Object(n["createElementVNode"])("option",{value:"Pending"},"Pending",-1),V=Object(n["createElementVNode"])("option",{value:"Approved"},"Approved",-1),E=Object(n["createElementVNode"])("option",{value:"Disapproved"},"Disapproved",-1),h=["onChange"],N={selected:""},y=Object(n["createElementVNode"])("option",{value:"Pending"},"Pending",-1),x=Object(n["createElementVNode"])("option",{value:"Approved"},"Approved",-1),w=Object(n["createElementVNode"])("option",{value:"Disapproved"},"Disapproved",-1),L=["onClick"],_=Object(n["createElementVNode"])("i",{class:"fas fa-search"},null,-1),k=[_],R=["onClick"],D=Object(n["createElementVNode"])("i",{class:"fas fa-times"},null,-1),A=[D],T={class:"modal fade show",id:"modal-lg","aria-modal":"true",role:"dialog"},S={class:"modal-dialog modal-lg modal-dialog-centered"},B={class:"modal-content"},C={class:"modal-header"},F={class:"modal-title"},q=Object(n["createElementVNode"])("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[Object(n["createElementVNode"])("span",{"aria-hidden":"true"},"Ã—")],-1),M={class:"modal-body"},U={class:"row"},P={class:"form-group col-md-6"},I=Object(n["createElementVNode"])("label",null,"Type",-1),J={class:"form-group col-md-6"},z=Object(n["createElementVNode"])("label",null,"Pay",-1),G={class:"form-group col-md-6"},H=Object(n["createElementVNode"])("label",null,"From",-1),K={class:"form-group col-md-6"},Q=Object(n["createElementVNode"])("label",null,"Time From",-1),W={key:0,class:"form-group col-6"},X=Object(n["createElementVNode"])("label",null,"Time To",-1),Y={key:1,class:"form-group col-6"},Z=Object(n["createElementVNode"])("label",null,"To",-1),$={class:"form-group col-12"},ee=Object(n["createElementVNode"])("label",null,"Reason",-1);function te(e,t,a,p,_,D){return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[c,Object(n["createElementVNode"])("div",r,[Object(n["createElementVNode"])("div",l,[Object(n["createElementVNode"])("div",o,[s,Object(n["createElementVNode"])("div",i,[Object(n["createElementVNode"])("table",d,[m,e.leave.isRequestLoading?(Object(n["openBlock"])(),Object(n["createElementBlock"])("tbody",u,b)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("tbody",v,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.leaves,(function(t,a){return Object(n["openBlock"])(),Object(n["createElementBlock"])("tr",{class:"text-center",key:t.id},[Object(n["createElementVNode"])("td",f,Object(n["toDisplayString"])(t.id),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.employee.first_name),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.employee.last_name),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.type),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.pay_type),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.from),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.to),1),Object(n["createElementVNode"])("td",null,[Object(n["createElementVNode"])("select",{onChange:function(n){return e.changeRecommendingApproval(t,a,n.target.value)},class:"form-control form-control-xs"},[Object(n["createElementVNode"])("option",O,Object(n["toDisplayString"])(t.recommending_approval),1),g,V,E],40,j)]),Object(n["createElementVNode"])("td",null,[Object(n["createElementVNode"])("select",{onChange:function(n){return e.changeFinalApproval(t,a,n.target.value)},class:"form-control form-control-xs"},[Object(n["createElementVNode"])("option",N,Object(n["toDisplayString"])(t.final_approval),1),y,x,w],40,h)]),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.created_at),1),Object(n["createElementVNode"])("td",null,[Object(n["createElementVNode"])("button",{onClick:function(a){return e.selectLeave(t)},"data-toggle":"modal","data-target":"#modal-lg",class:"btn btn-primary btn-xs mr-1"},k,8,L),Object(n["createElementVNode"])("button",{onClick:function(n){return e.deleteLeave(t.id,a)},class:"btn btn-danger btn-xs"},A,8,R)])])})),128))]))])])])])]),Object(n["createElementVNode"])("div",T,[Object(n["createElementVNode"])("div",S,[Object(n["createElementVNode"])("div",B,[Object(n["createElementVNode"])("div",C,[Object(n["createElementVNode"])("h4",F,"Leave of "+Object(n["toDisplayString"])(e.selectedLeave.first_name)+" "+Object(n["toDisplayString"])(e.selectedLeave.last_name),1),q]),Object(n["createElementVNode"])("div",M,[Object(n["createElementVNode"])("div",U,[Object(n["createElementVNode"])("div",P,[I,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.selectedLeave.type=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[n["vModelText"],e.selectedLeave.type]])]),Object(n["createElementVNode"])("div",J,[z,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.selectedLeave.pay_type=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[n["vModelText"],e.selectedLeave.pay_type]])]),Object(n["createElementVNode"])("div",G,[H,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.selectedLeave.from=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[n["vModelText"],e.selectedLeave.from]])]),Object(n["createElementVNode"])("div",K,[Q,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.selectedLeave.to=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[n["vModelText"],e.selectedLeave.to]])]),e.selectedLeave.time_from?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",W,[X,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.selectedLeave.time_from=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[n["vModelText"],e.selectedLeave.time_from]])])):Object(n["createCommentVNode"])("",!0),e.selectedLeave.time_to?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Y,[Z,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.selectedLeave.time_to=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[n["vModelText"],e.selectedLeave.time_to]])])):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("div",$,[ee,Object(n["withDirectives"])(Object(n["createElementVNode"])("textarea",{"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.selectedLeave.reason=t}),disabled:"",cols:"30",rows:"10",class:"form-control form-control-sm"},null,512),[[n["vModelText"],e.selectedLeave.reason]])])])])])])])],64)}var ae=a("1da1"),ne=(a("99af"),a("96cf"),a("a434"),a("5a15")),ce=a("be92"),re=Object(ce["b"])({id:"superadmin_leave",state:function(){return{leaves:[],isRequestLoading:!1}},getters:{getAllFiledLeaves:function(){return this.leaves}},actions:{loadAllLeaves:function(){var e=this;return Object(ae["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=e.leaves.length){t.next=7;break}return e.isRequestLoading=!0,t.next=4,ne["a"].get("/api/sa/leaves");case 4:a=t.sent,e.leaves=a.data.data,e.isRequestLoading=!1;case 7:case"end":return t.stop()}}),t)})))()},changeRecommendingApprovalStatusTo:function(e,t){var a=this;return Object(ae["a"])(regeneratorRuntime.mark((function n(){var c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a.isRequestLoading=!0,n.next=3,ne["a"].patch("/api/sa/leaves/".concat(e.id),e);case 3:c=n.sent,a.leaves.splice(t,1,c.data.data),a.isRequestLoading=!1;case 6:case"end":return n.stop()}}),n)})))()},changeFinalApprovalStatusTo:function(e,t){var a=this;return Object(ae["a"])(regeneratorRuntime.mark((function n(){var c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a.isRequestLoading=!0,n.next=3,ne["a"].patch("/api/sa/leaves/".concat(e.id),e);case 3:c=n.sent,a.leaves.splice(t,1,c.data.data),a.isRequestLoading=!1;case 6:case"end":return n.stop()}}),n)})))()},deleteLeave:function(e,t){var a=this;return Object(ae["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a.isRequestLoading=!0,n.next=3,ne["a"].delete("/api/sa/leaves/".concat(e));case 3:a.leaves.splice(t,1),a.isRequestLoading=!1;case 5:case"end":return n.stop()}}),n)})))()}}}),le=a("854a"),oe=Object(n["defineComponent"])({setup:function(){var e=re(),t=Object(n["computed"])((function(){return e.getAllFiledLeaves})),a=Object(n["ref"])({first_name:"",last_name:"",type:"",pay_type:"",from:"",to:"",time_from:"",time_to:"",reason:""});Object(n["onBeforeMount"])(Object(ae["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadAllLeaves();case 2:case"end":return t.stop()}}),t)}))));var c=function(){var t=Object(ae["a"])(regeneratorRuntime.mark((function t(a,n,c){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.recommending_approval=c,t.next=3,e.changeRecommendingApprovalStatusTo(a,n);case 3:return t.next=5,le["success"]("Leave ID ".concat(a.id," recommending approval set to ").concat(a.recommending_approval));case 5:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),r=function(){var t=Object(ae["a"])(regeneratorRuntime.mark((function t(a,n,c){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.final_approval=c,t.next=3,e.changeFinalApprovalStatusTo(a,n);case 3:return t.next=5,le["success"]("Leave ID ".concat(a.id," final approval set to ").concat(a.final_approval));case 5:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),l=function(e){a.value.first_name=e.employee.first_name,a.value.last_name=e.employee.last_name,a.value.type=e.type,a.value.pay_type=e.pay_type,a.value.from=e.from,a.value.to=e.to,a.value.time_from=e.time_from,a.value.time_to=e.time_to,a.value.reason=e.reason},o=function(){var t=Object(ae["a"])(regeneratorRuntime.mark((function t(a,n){var c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(c=confirm("Delete this leave?"),!c){t.next=4;break}return t.next=4,e.deleteLeave(a,n);case 4:return t.next=6,le["success"]("Leave ID ".concat(a," deleted."));case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}();return{leave:e,leaves:t,selectedLeave:a,changeRecommendingApproval:c,changeFinalApproval:r,selectLeave:l,deleteLeave:o}}}),se=a("6b0d"),ie=a.n(se);const de=ie()(oe,[["render",te]]);t["default"]=de},"99af":function(e,t,a){"use strict";var n=a("23e7"),c=a("d039"),r=a("e8b5"),l=a("861d"),o=a("7b0b"),s=a("50c4"),i=a("8418"),d=a("65f0"),m=a("1dde"),u=a("b622"),p=a("2d00"),b=u("isConcatSpreadable"),v=9007199254740991,f="Maximum allowed index exceeded",j=p>=51||!c((function(){var e=[];return e[b]=!1,e.concat()[0]!==e})),O=m("concat"),g=function(e){if(!l(e))return!1;var t=e[b];return void 0!==t?!!t:r(e)},V=!j||!O;n({target:"Array",proto:!0,forced:V},{concat:function(e){var t,a,n,c,r,l=o(this),m=d(l,0),u=0;for(t=-1,n=arguments.length;t<n;t++)if(r=-1===t?l:arguments[t],g(r)){if(c=s(r.length),u+c>v)throw TypeError(f);for(a=0;a<c;a++,u++)a in r&&i(m,u,r[a])}else{if(u>=v)throw TypeError(f);i(m,u++,r)}return m.length=u,m}})}}]);
//# sourceMappingURL=sa-leaves.56719f02.js.map