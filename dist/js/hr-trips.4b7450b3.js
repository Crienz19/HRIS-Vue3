(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["hr-trips"],{"0b42":function(e,t,n){var c=n("e8b5"),l=n("68ee"),r=n("861d"),o=n("b622"),a=o("species");e.exports=function(e){var t;return c(e)&&(t=e.constructor,l(t)&&(t===Array||c(t.prototype))?t=void 0:r(t)&&(t=t[a],null===t&&(t=void 0))),void 0===t?Array:t}},"1dde":function(e,t,n){var c=n("d039"),l=n("b622"),r=n("2d00"),o=l("species");e.exports=function(e){return r>=51||!c((function(){var t=[],n=t.constructor={};return n[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"65f0":function(e,t,n){var c=n("0b42");e.exports=function(e,t){return new(c(e))(0===t?0:t)}},8418:function(e,t,n){"use strict";var c=n("a04b"),l=n("9bf2"),r=n("5c6c");e.exports=function(e,t,n){var o=c(t);o in e?l.f(e,o,r(0,n)):e[o]=n}},a434:function(e,t,n){"use strict";var c=n("23e7"),l=n("23cb"),r=n("a691"),o=n("50c4"),a=n("7b0b"),i=n("65f0"),s=n("8418"),d=n("1dde"),u=d("splice"),m=Math.max,b=Math.min,p=9007199254740991,f="Maximum allowed length exceeded";c({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var n,c,d,u,j,O,v=a(this),V=o(v.length),E=l(e,V),N=arguments.length;if(0===N?n=c=0:1===N?(n=0,c=V-E):(n=N-2,c=b(m(r(t),0),V-E)),V+n-c>p)throw TypeError(f);for(d=i(v,c),u=0;u<c;u++)j=E+u,j in v&&s(d,u,v[j]);if(d.length=c,n<c){for(u=E;u<V-c;u++)j=u+c,O=u+n,j in v?v[O]=v[j]:delete v[O];for(u=V;u>V-c+n;u--)delete v[u-1]}else if(n>c)for(u=V-c;u>E;u--)j=u+c-1,O=u+n-1,j in v?v[O]=v[j]:delete v[O];for(u=0;u<n;u++)v[u+E]=arguments[u+2];return v.length=V-c+n,d}})},a536:function(e,t,n){"use strict";n.r(t);var c=n("7a23"),l=Object(c["createElementVNode"])("div",{class:"row"},[Object(c["createElementVNode"])("div",{class:"col-12"},[Object(c["createElementVNode"])("div",{class:"alert alert-primary"}," jksldfjsl ")])],-1),r={class:"row"},o={class:"col-12"},a={class:"card"},i=Object(c["createStaticVNode"])('<div class="card-header"><h5 class="card-title"><b>Trip Request</b></h5><div class="card-tools"><div class="input-group input-group-sm" style="width:150px;"><input type="text" name="table_search" class="form-control float-right" placeholder="Search"><div class="input-group-append"><button type="submit" class="btn btn-default"><i class="fas fa-search"></i></button></div></div></div></div>',1),s={class:"card-body p-0"},d={class:"table table-hovered table-striped text-sm"},u=Object(c["createElementVNode"])("thead",null,[Object(c["createElementVNode"])("tr",{class:"text-center"},[Object(c["createElementVNode"])("th",{class:"text-left"},"ID"),Object(c["createElementVNode"])("th",null,"First Name"),Object(c["createElementVNode"])("th",null,"Last name"),Object(c["createElementVNode"])("th",null,"Date From"),Object(c["createElementVNode"])("th",null,"Date To"),Object(c["createElementVNode"])("th",null,"Time In"),Object(c["createElementVNode"])("th",null,"Time Out"),Object(c["createElementVNode"])("th",null,"Dest. From"),Object(c["createElementVNode"])("th",null,"Dest. To"),Object(c["createElementVNode"])("th",null,"Status"),Object(c["createElementVNode"])("th",null,"Created At"),Object(c["createElementVNode"])("th",null,"Actions")])],-1),m={key:0,class:"text-center"},b=Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("td",{colspan:"12"},[Object(c["createElementVNode"])("i",{class:"fas fa fa-pulse fa-spinner fa-2x"})])],-1),p=[b],f={key:1,class:"text-center"},j={class:"text-left"},O={key:0,class:"fas fa-exclamation text-warning"},v={key:1,class:"fas fa-check text-success"},V=["onClick"],E=Object(c["createElementVNode"])("i",{class:"fas fa-search"},null,-1),N=[E],g={class:"modal fade show",id:"modal-lg","aria-modal":"true",role:"dialog"},h={class:"modal-dialog modal-lg modal-dialog-centered"},_={class:"modal-content"},y={key:0,class:"overlay"},k=Object(c["createElementVNode"])("i",{class:"fas fa-2x fa-spinner fa-spin"},null,-1),T=[k],x={class:"modal-header"},w={class:"modal-title"},D=Object(c["createElementVNode"])("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[Object(c["createElementVNode"])("span",{"aria-hidden":"true"},"Ã—")],-1),B={class:"modal-body"},R={class:"row"},S={class:"form-group col-md-6"},A=Object(c["createElementVNode"])("label",null,"Date From",-1),C={class:"form-group col-md-6"},M=Object(c["createElementVNode"])("label",null,"Date To",-1),q={class:"form-group col-md-6"},L=Object(c["createElementVNode"])("label",null,"Time In",-1),F={class:"form-group col-md-6"},U=Object(c["createElementVNode"])("label",null,"Time Out",-1),I={key:0,class:"form-group col-6"},J=Object(c["createElementVNode"])("label",null,"Destination From",-1),P={key:1,class:"form-group col-6"},z=Object(c["createElementVNode"])("label",null,"To",-1),G={class:"form-group col-12"},H=Object(c["createElementVNode"])("label",null,"Reason",-1),K={class:"modal-footer"},Q=["disabled"];function W(e,t,n,b,E,k){return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[l,Object(c["createElementVNode"])("div",r,[Object(c["createElementVNode"])("div",o,[Object(c["createElementVNode"])("div",a,[i,Object(c["createElementVNode"])("div",s,[Object(c["createElementVNode"])("table",d,[u,e.trip.isRequestLoading?(Object(c["openBlock"])(),Object(c["createElementBlock"])("tbody",m,p)):(Object(c["openBlock"])(),Object(c["createElementBlock"])("tbody",f,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.trips,(function(t,n){var l,r;return Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:t.id},[Object(c["createElementVNode"])("td",j,Object(c["toDisplayString"])(t.id),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(null===(l=t.employee)||void 0===l?void 0:l.first_name),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(null===(r=t.employee)||void 0===r?void 0:r.last_name),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(t.date_from),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(t.date_to),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(t.time_in.standard),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(t.time_out.standard),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(t.destination_from),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(t.destination_to),1),Object(c["createElementVNode"])("td",null,["Pending"==t.status?(Object(c["openBlock"])(),Object(c["createElementBlock"])("i",O)):Object(c["createCommentVNode"])("",!0),"Acknowledged"==t.status?(Object(c["openBlock"])(),Object(c["createElementBlock"])("i",v)):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(t.created_at),1),Object(c["createElementVNode"])("td",null,[Object(c["createElementVNode"])("button",{onClick:function(c){return e.selectTrip(t,n)},"data-toggle":"modal","data-target":"#modal-lg",class:"btn btn-primary btn-xs mr-1"},N,8,V)])])})),128))]))])])])])]),Object(c["createElementVNode"])("div",g,[Object(c["createElementVNode"])("div",h,[Object(c["createElementVNode"])("div",_,[e.trip.isRequestLoading?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",y,T)):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("div",x,[Object(c["createElementVNode"])("h4",w,"Trip of "+Object(c["toDisplayString"])(e.selectedTrip.first_name)+" "+Object(c["toDisplayString"])(e.selectedTrip.last_name),1),D]),Object(c["createElementVNode"])("div",B,[Object(c["createElementVNode"])("div",R,[Object(c["createElementVNode"])("div",S,[A,Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.selectedTrip.date_from=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[c["vModelText"],e.selectedTrip.date_from]])]),Object(c["createElementVNode"])("div",C,[M,Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.selectedTrip.date_to=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[c["vModelText"],e.selectedTrip.date_to]])]),Object(c["createElementVNode"])("div",q,[L,Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.selectedTrip.time_in=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[c["vModelText"],e.selectedTrip.time_in]])]),Object(c["createElementVNode"])("div",F,[U,Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.selectedTrip.time_out=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[c["vModelText"],e.selectedTrip.time_out]])]),e.selectedTrip.destination_from?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",I,[J,Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.selectedTrip.destination_from=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[c["vModelText"],e.selectedTrip.destination_from]])])):Object(c["createCommentVNode"])("",!0),e.selectedTrip.destination_to?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",P,[z,Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.selectedTrip.destination_to=t}),type:"text",class:"form-control form-control-sm",disabled:""},null,512),[[c["vModelText"],e.selectedTrip.destination_to]])])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("div",G,[H,Object(c["withDirectives"])(Object(c["createElementVNode"])("textarea",{"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.selectedTrip.purpose=t}),disabled:"",cols:"30",rows:"10",class:"form-control form-control-sm"},null,512),[[c["vModelText"],e.selectedTrip.purpose]])])])]),Object(c["createElementVNode"])("div",K,[Object(c["createElementVNode"])("button",{disabled:e.selectedTrip.status="Acknowledged",onClick:t[7]||(t[7]=function(t){return e.acknowledgedSelectedRequest(e.selectedTrip.id)}),class:"btn btn-success btn-sm btn-block"},"Acknowledged",8,Q)])])])])],64)}var X=n("1da1"),Y=(n("96cf"),n("a434"),n("5a15")),Z=n("be92"),$=Object(Z["b"])({id:"hr_trips",state:function(){return{trips:[],isRequestLoading:!1}},getters:{getAllTrips:function(){return this.trips}},actions:{loadAllTrips:function(){var e=this;return Object(X["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=e.trips.length){t.next=7;break}return e.isRequestLoading=!0,t.next=4,Y["a"].get("/api/hr/trips");case 4:n=t.sent,e.trips=n.data.data,e.isRequestLoading=!1;case 7:case"end":return t.stop()}}),t)})))()},acknowledgeTrip:function(e,t){var n=this;return Object(X["a"])(regeneratorRuntime.mark((function c(){var l;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return n.isRequestLoading=!0,c.next=3,Y["a"].patch("/api/hr/trips/".concat(e,"/acknowledged"));case 3:l=c.sent,n.trips.splice(t,1,l.data),n.isRequestLoading=!1;case 6:case"end":return c.stop()}}),c)})))()}}}),ee=Object(c["defineComponent"])({setup:function(){var e=$(),t=Object(c["computed"])((function(){return e.getAllTrips})),n=Object(c["ref"])(0),l=Object(c["ref"])({id:0,first_name:"",last_name:"",date_from:"",date_to:"",time_in:"",time_out:"",destination_from:"",destination_to:"",purpose:""}),r=function(e,t){l.value.id=e.id,l.value.first_name=e.employee.first_name,l.value.last_name=e.employee.last_name,l.value.date_from=e.date_from,l.value.date_to=e.date_to,l.value.time_in=e.time_in.standard,l.value.time_out=e.time_out.standard,l.value.destination_from=e.destination_from,l.value.destination_to=e.destination_to,l.value.purpose=e.purpose,n.value=t},o=function(){var t=Object(X["a"])(regeneratorRuntime.mark((function t(c){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.acknowledgeTrip(c,n.value);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(c["onBeforeMount"])(Object(X["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadAllTrips();case 2:case"end":return t.stop()}}),t)})))),{trip:e,trips:t,selectedTrip:l,selectTrip:r,acknowledgedSelectedRequest:o}}}),te=n("6b0d"),ne=n.n(te);const ce=ne()(ee,[["render",W]]);t["default"]=ce},e8b5:function(e,t,n){var c=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==c(e)}}}]);
//# sourceMappingURL=hr-trips.4b7450b3.js.map